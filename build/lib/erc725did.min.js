!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.erc725did=t():e.erc725did=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e){e.exports={contractName:"Identity",abi:[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_owner",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"value",type:"bytes32"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ownerAddress",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"contractAddress",type:"address"}],name:"ContractCreated",type:"event"},{constant:!1,inputs:[{name:"_owner",type:"address"}],name:"changeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getData",outputs:[{name:"_value",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_value",type:"bytes32"}],name:"setData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operationType",type:"uint256"},{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"kill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b5060405160208061172b8339810180604052602081101561003057600080fd5b8101908080519060200190929190505050308161004b610116565b808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050604051809103906000f0801580156100d0573d6000803e3d6000fd5b506000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610126565b604051610dd88061095383390190565b61081e806101356000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806341c0e1b51461007a57806344c028fe1461009157806354f6127f1461014b578063749ebfb81461019a5780638da5cb5b146101df578063a6f9dae114610236575b005b34801561008657600080fd5b5061008f610287565b005b34801561009d57600080fd5b50610149600480360360808110156100b457600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561010557600080fd5b82018360208201111561011757600080fd5b8035906020019184600183028401116401000000008311171561013957600080fd5b90919293919293905050506102f7565b005b34801561015757600080fd5b506101846004803603602081101561016e57600080fd5b810190808035906020019092919050505061050d565b6040518082815260200191505060405180910390f35b3480156101a657600080fd5b506101dd600480360360408110156101bd57600080fd5b81019080803590602001909291908035906020019092919050505061052a565b005b3480156101eb57600080fd5b506101f4610638565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561024257600080fd5b506102856004803603602081101561025957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061065d565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102f5573373ffffffffffffffffffffffffffffffffffffffff16ff5b565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b600085141561041957610413848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107c8565b50610506565b60018514156104bc57600061047183838080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107e0565b90508073ffffffffffffffffffffffffffffffffffffffff167fcf78cf0d6f3d8371e1075c69c492ab4ec5d8cf23a1a239b6a51a1d00be7ca31260405160405180910390a250610505565b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526000815260200160200191505060405180910390fd5b5b5050505050565b600060016000838152602001908152602001600020549050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b80600160008481526020019081526020016000208190555080827f35553580e4553c909abeb5764e842ce1f93c45f9f614bde2a2ca5f5b7b7dc0fb60405160405180910390a35050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610721576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf3660405160405180910390a250565b600080600083516020850186885af190509392505050565b60008151602083016000f0905091905056fea165627a7a72305820de711785b3d09fb0db5a518edddfb4325e9e5059bdfdd6cff5f804fc15910dcc0029608060405234801561001057600080fd5b50604051604080610dd88339810180604052604081101561003057600080fd5b810190808051906020019092919080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051602081830303815290604052805190602001209050606060405190810160405280600181526020016001815260200182815250600260008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050506003600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091505550600180827f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4505050610bd4806102046000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806312aaac701461007d5780631d381240146100da578063481c6a751461014157806353d413c5146101985780639010f726146101f5578063d202158d14610285575b600080fd5b34801561008957600080fd5b506100b6600480360360208110156100a057600080fd5b81019080803590602001909291905050506102e2565b60405180848152602001838152602001828152602001935050505060405180910390f35b3480156100e657600080fd5b50610127600480360360608110156100fd57600080fd5b81019080803590602001909291908035906020019092919080359060200190929190505050610339565b604051808215151515815260200191505060405180910390f35b34801561014d57600080fd5b50610156610635565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101a457600080fd5b506101db600480360360408110156101bb57600080fd5b81019080803590602001909291908035906020019092919050505061065a565b604051808215151515815260200191505060405180910390f35b34801561020157600080fd5b5061022e6004803603602081101561021857600080fd5b8101908080359060200190929190505050610a3c565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610271578082015181840152602081019050610256565b505050509050019250505060405180910390f35b34801561029157600080fd5b506102c8600480360360408110156102a857600080fd5b810190808035906020019092919080359060200190929190505050610aa7565b604051808215151515815260200191505060405180910390f35b60008060006002600085815260200190815260200160002060000154600260008681526020019081526020016000206001015460026000878152602001908152602001600020600201549250925092509193909250565b6000836002600086815260200190815260200160002060020154141515156103c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4b657920616c7265616479206578697374732e0000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ab573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b1580156104d557600080fd5b505afa1580156104e9573d6000803e3d6000fd5b505050506040513d60208110156104ff57600080fd5b810190808051906020019092919050505015156105aa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f7365206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60606040519081016040528084815260200183815260200185815250600260008681526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050508183857f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008260026000858152602001908152602001600020600201541415156106e9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f4e6f2073756368206b65792e000000000000000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156108cb573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b1580156107f557600080fd5b505afa158015610809573d6000803e3d6000fd5b505050506040513d602081101561081f57600080fd5b810190808051906020019092919050505015156108ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b600260008481526020019081526020016000206001015482847f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460026000848152602001908152602001600020600080820160009055600182016000905560028201600090555050600060036000848152602001908152602001600020905060008090505b8180549050811015610a0d5784828281548110151561097657fe5b90600052602060002001541415610a005781600183805490500381548110151561099c57fe5b906000526020600020015482828154811015156109b557fe5b90600052602060002001819055508160018380549050038154811015156109d857fe5b9060005260206000200160009055818054809190600190036109fa9190610b05565b50610a0d565b808060010191505061095b565b508060036000858152602001908152602001600020908054610a30929190610b31565b50600191505092915050565b606060036000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a9b57602002820191906000526020600020905b815481526020019060010190808311610a87575b50505050509050919050565b60008060010260026000858152602001908152602001600020600201541415610ad35760009050610aff565b8160026000858152602001908152602001600020600001541415610afa5760019050610aff565b600090505b92915050565b815481835581811115610b2c57818360005260206000209182019101610b2b9190610b83565b5b505050565b828054828255906000526020600020908101928215610b725760005260206000209182015b82811115610b71578254825591600101919060010190610b56565b5b509050610b7f9190610b83565b5090565b610ba591905b80821115610ba1576000816000905550600101610b89565b5090565b9056fea165627a7a72305820399f9f575325547872ec54fdeb88688044ce836017ac93fef690212ecbce79140029",deployedBytecode:"0x608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806341c0e1b51461007a57806344c028fe1461009157806354f6127f1461014b578063749ebfb81461019a5780638da5cb5b146101df578063a6f9dae114610236575b005b34801561008657600080fd5b5061008f610287565b005b34801561009d57600080fd5b50610149600480360360808110156100b457600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561010557600080fd5b82018360208201111561011757600080fd5b8035906020019184600183028401116401000000008311171561013957600080fd5b90919293919293905050506102f7565b005b34801561015757600080fd5b506101846004803603602081101561016e57600080fd5b810190808035906020019092919050505061050d565b6040518082815260200191505060405180910390f35b3480156101a657600080fd5b506101dd600480360360408110156101bd57600080fd5b81019080803590602001909291908035906020019092919050505061052a565b005b3480156101eb57600080fd5b506101f4610638565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561024257600080fd5b506102856004803603602081101561025957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061065d565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102f5573373ffffffffffffffffffffffffffffffffffffffff16ff5b565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b600085141561041957610413848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107c8565b50610506565b60018514156104bc57600061047183838080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107e0565b90508073ffffffffffffffffffffffffffffffffffffffff167fcf78cf0d6f3d8371e1075c69c492ab4ec5d8cf23a1a239b6a51a1d00be7ca31260405160405180910390a250610505565b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526000815260200160200191505060405180910390fd5b5b5050505050565b600060016000838152602001908152602001600020549050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b80600160008481526020019081526020016000208190555080827f35553580e4553c909abeb5764e842ce1f93c45f9f614bde2a2ca5f5b7b7dc0fb60405160405180910390a35050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610721576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf3660405160405180910390a250565b600080600083516020850186885af190509392505050565b60008151602083016000f0905091905056fea165627a7a72305820de711785b3d09fb0db5a518edddfb4325e9e5059bdfdd6cff5f804fc15910dcc0029",sourceMap:"84:2060:2:-;;;259:100;8:9:-1;5:2;;;30:1;27;20:12;5:2;259:100:2;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;259:100:2;;;;;;;;;;;;;;;;339:4;346:6;316:37;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;316:37:2;300:5;;:54;;;;;;;;;;;;;;;;;;259:100;84:2060;;;;;;;;;;;;:::o;:::-;;;;;;;",deployedSourceMap:"84:2060:2:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2059:83;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2059:83:2;;;;;;846:454;;8:9:-1;5:2;;;30:1;27;20:12;5:2;846:454:2;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;846:454:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;21:11:-1;8;5:28;2:2;;;46:1;43;36:12;2:2;846:454:2;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;846:454:2;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;846:454:2;;;;;;;;;;;;;;;606:99;;8:9:-1;5:2;;;30:1;27;20:12;5:2;606:99:2;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;606:99:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;709:133;;8:9:-1;5:2;;;30:1;27;20:12;5:2;709:133:2;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;709:133:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;197:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;197:20:2;;;;;;;;;;;;;;;;;;;;;;;;;;;491:111;;8:9:-1;5:2;;;30:1;27;20:12;5:2;491:111:2;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;491:111:2;;;;;;;;;;;;;;;;;;;;;;2059:83;2106:5;;;;;;;;;;;2092:19;;:10;:19;;;2088:49;;;2126:10;2113:24;;;2088:49;2059:83::o;846:454::-;412:5;;;;;;;;;;;398:19;;:10;:19;;;390:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;150:1;977:14;:32;973:323;;;1019:31;1031:3;1036:6;1044:5;;1019:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;1019:31:2;;;;;;:11;:31::i;:::-;;973:323;;;191:1;1067:14;:34;1063:233;;;1111:19;1133:20;1147:5;;1133:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;1133:20:2;;;;;;:13;:20::i;:::-;1111:42;;1182:11;1166:28;;;;;;;;;;;;1063:233;;;;1279:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1063:233;973:323;846:454;;;;;:::o;606:99::-;660:14;689:5;:11;695:4;689:11;;;;;;;;;;;;682:18;;606:99;;;:::o;709:133::-;412:5;;;;;;;;;;;398:19;;:10;:19;;;390:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;795:6;781:5;:11;787:4;781:11;;;;;;;;;;;:20;;;;830:6;824:4;812:25;;;;;;;;;;709:133;;:::o;197:20::-;;;;;;;;;;;;;:::o;491:111::-;412:5;;;;;;;;;;;398:19;;:10;:19;;;390:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;561:6;553:5;;:14;;;;;;;;;;;;;;;;;;591:5;;;;;;;;;;;578:19;;;;;;;;;;;;491:111;:::o;1424:269::-;1517:12;1681:1;1678;1671:4;1665:11;1658:4;1652;1648:15;1641:5;1637:2;1632:3;1627:56;1616:67;;1608:81;;;;;:::o;1817:238::-;1885:19;2039:4;2033:11;2026:4;2020;2016:15;2013:1;2006:39;1991:54;;1983:68;;;:::o",source:'pragma solidity >=0.5.0 <0.6.0;\n\nimport "./ERC725.sol";\nimport "./KeyManager.sol";\n\ncontract Identity is ERC725 {\n  uint256 constant OPERATION_CALL = 0;\n  uint256 constant OPERATION_CREATE = 1;\n\n  address public owner;\n  mapping(bytes32 => bytes32) store;\n\n  constructor(address _owner) public {\n    owner = address(new KeyManager(address(this), _owner));\n  }\n\n  modifier onlyOwner() {\n    require(msg.sender == owner, "only-owner-allowed");\n    _;\n  }\n\n  function () external payable {}\n\n  function changeOwner(address _owner) external onlyOwner {\n    owner = _owner;\n    emit OwnerChanged(owner);\n  }\n\n  function getData(bytes32 _key) external view returns (bytes32 _value) {\n    return store[_key];\n  }\n\n  function setData(bytes32 _key, bytes32 _value) external onlyOwner {\n    store[_key] = _value;\n    emit DataChanged(_key, _value);\n  }\n\n  function execute(uint256 _operationType, address _to, uint256 _value, bytes calldata _data)\n    external\n    onlyOwner\n  {\n    if (_operationType == OPERATION_CALL) {\n      executeCall(_to, _value, _data);\n    } else if (_operationType == OPERATION_CREATE) {\n      address newContract = executeCreate(_data);\n      emit ContractCreated(newContract);\n    } else {\n      // We don\'t want to spend users gas if parametar is wrong\n      revert("");\n    }\n  }\n\n  // copied from GnosisSafe\n  // https://github.com/gnosis/safe-contracts/blob/v0.0.2-alpha/contracts/base/Executor.sol\n  function executeCall(address to, uint256 value, bytes memory data)\n    internal\n    returns (bool success)\n  {\n    // solium-disable-next-line security/no-inline-assembly\n    assembly {\n      success := call(gas, to, value, add(data, 0x20), mload(data), 0, 0)\n    }\n  }\n\n  // copied from GnosisSafe\n  // https://github.com/gnosis/safe-contracts/blob/v0.0.2-alpha/contracts/base/Executor.sol\n  function executeCreate(bytes memory data)\n    internal\n    returns (address newContract)\n  {\n    // solium-disable-next-line security/no-inline-assembly\n    assembly {\n      newContract := create(0, add(data, 0x20), mload(data))\n    }\n  }\n\n  function kill() public {\n    if (msg.sender == owner) selfdestruct(msg.sender);\n  }\n}\n',sourcePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/Identity.sol",ast:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/Identity.sol",exportedSymbols:{Identity:[335]},id:336,nodeType:"SourceUnit",nodes:[{id:154,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:2"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:155,nodeType:"ImportDirective",scope:336,sourceUnit:47,src:"33:22:2",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",file:"./KeyManager.sol",id:156,nodeType:"ImportDirective",scope:336,sourceUnit:673,src:"56:26:2",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:157,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"105:6:2",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:158,nodeType:"InheritanceSpecifier",src:"105:6:2"}],contractDependencies:[46,672],contractKind:"contract",documentation:null,fullyImplemented:!0,id:335,linearizedBaseContracts:[335,46],name:"Identity",nodeType:"ContractDefinition",nodes:[{constant:!0,id:161,name:"OPERATION_CALL",nodeType:"VariableDeclaration",scope:335,src:"116:35:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:159,name:"uint256",nodeType:"ElementaryTypeName",src:"116:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"30",id:160,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"150:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},visibility:"internal"},{constant:!0,id:164,name:"OPERATION_CREATE",nodeType:"VariableDeclaration",scope:335,src:"155:37:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:162,name:"uint256",nodeType:"ElementaryTypeName",src:"155:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:163,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"191:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!1,id:166,name:"owner",nodeType:"VariableDeclaration",scope:335,src:"197:20:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:165,name:"address",nodeType:"ElementaryTypeName",src:"197:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:170,name:"store",nodeType:"VariableDeclaration",scope:335,src:"221:33:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},typeName:{id:169,keyType:{id:167,name:"bytes32",nodeType:"ElementaryTypeName",src:"229:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"221:27:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},valueType:{id:168,name:"bytes32",nodeType:"ElementaryTypeName",src:"240:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}},value:null,visibility:"internal"},{body:{id:187,nodeType:"Block",src:"294:65:2",statements:[{expression:{argumentTypes:null,id:185,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:175,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"300:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:180,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:793,src:"339:4:2",typeDescriptions:{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}],id:179,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"331:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:181,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"331:13:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:182,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:172,src:"346:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"}],id:178,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"NewExpression",src:"316:14:2",typeDescriptions:{typeIdentifier:"t_function_creation_nonpayable$_t_address_$_t_address_$returns$_t_contract$_KeyManager_$672_$",typeString:"function (address,address) returns (contract KeyManager)"},typeName:{contractScope:null,id:177,name:"KeyManager",nodeType:"UserDefinedTypeName",referencedDeclaration:672,src:"320:10:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}},id:183,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"316:37:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}],id:176,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"308:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:184,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"308:46:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"300:54:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:186,nodeType:"ExpressionStatement",src:"300:54:2"}]},documentation:null,id:188,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:173,nodeType:"ParameterList",parameters:[{constant:!1,id:172,name:"_owner",nodeType:"VariableDeclaration",scope:188,src:"271:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:171,name:"address",nodeType:"ElementaryTypeName",src:"271:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"270:16:2"},returnParameters:{id:174,nodeType:"ParameterList",parameters:[],src:"294:0:2"},scope:335,src:"259:100:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:199,nodeType:"Block",src:"384:68:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:194,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:191,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"398:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:192,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"398:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:193,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"412:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"398:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"6f6e6c792d6f776e65722d616c6c6f776564",id:195,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"419:20:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'},value:"only-owner-allowed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'}],id:190,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"390:7:2",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:196,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"390:50:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:197,nodeType:"ExpressionStatement",src:"390:50:2"},{id:198,nodeType:"PlaceholderStatement",src:"446:1:2"}]},documentation:null,id:200,name:"onlyOwner",nodeType:"ModifierDefinition",parameters:{id:189,nodeType:"ParameterList",parameters:[],src:"381:2:2"},src:"363:89:2",visibility:"internal"},{body:{id:203,nodeType:"Block",src:"485:2:2",statements:[]},documentation:null,id:204,implemented:!0,kind:"fallback",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:201,nodeType:"ParameterList",parameters:[],src:"465:2:2"},returnParameters:{id:202,nodeType:"ParameterList",parameters:[],src:"485:0:2"},scope:335,src:"456:31:2",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:219,nodeType:"Block",src:"547:55:2",statements:[{expression:{argumentTypes:null,id:213,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:211,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"553:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:212,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:206,src:"561:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"553:14:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:214,nodeType:"ExpressionStatement",src:"553:14:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:216,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"591:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:215,name:"OwnerChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"578:12:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:217,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"578:19:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:218,nodeType:"EmitStatement",src:"573:24:2"}]},documentation:null,id:220,implemented:!0,kind:"function",modifiers:[{arguments:null,id:209,modifierName:{argumentTypes:null,id:208,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"537:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"537:9:2"}],name:"changeOwner",nodeType:"FunctionDefinition",parameters:{id:207,nodeType:"ParameterList",parameters:[{constant:!1,id:206,name:"_owner",nodeType:"VariableDeclaration",scope:220,src:"512:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:205,name:"address",nodeType:"ElementaryTypeName",src:"512:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"511:16:2"},returnParameters:{id:210,nodeType:"ParameterList",parameters:[],src:"547:0:2"},scope:335,src:"491:111:2",stateMutability:"nonpayable",superFunction:20,visibility:"external"},{body:{id:231,nodeType:"Block",src:"676:29:2",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:227,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"689:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:229,indexExpression:{argumentTypes:null,id:228,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:222,src:"695:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"689:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:226,id:230,nodeType:"Return",src:"682:18:2"}]},documentation:null,id:232,implemented:!0,kind:"function",modifiers:[],name:"getData",nodeType:"FunctionDefinition",parameters:{id:223,nodeType:"ParameterList",parameters:[{constant:!1,id:222,name:"_key",nodeType:"VariableDeclaration",scope:232,src:"623:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:221,name:"bytes32",nodeType:"ElementaryTypeName",src:"623:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"622:14:2"},returnParameters:{id:226,nodeType:"ParameterList",parameters:[{constant:!1,id:225,name:"_value",nodeType:"VariableDeclaration",scope:232,src:"660:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:224,name:"bytes32",nodeType:"ElementaryTypeName",src:"660:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"659:16:2"},scope:335,src:"606:99:2",stateMutability:"view",superFunction:27,visibility:"external"},{body:{id:252,nodeType:"Block",src:"775:67:2",statements:[{expression:{argumentTypes:null,id:245,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:241,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"781:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:243,indexExpression:{argumentTypes:null,id:242,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"787:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"781:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:244,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"795:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"781:20:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:246,nodeType:"ExpressionStatement",src:"781:20:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:248,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"824:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:249,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"830:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:247,name:"DataChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"812:11:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$",typeString:"function (bytes32,bytes32)"}},id:250,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"812:25:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:251,nodeType:"EmitStatement",src:"807:30:2"}]},documentation:null,id:253,implemented:!0,kind:"function",modifiers:[{arguments:null,id:239,modifierName:{argumentTypes:null,id:238,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"765:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"765:9:2"}],name:"setData",nodeType:"FunctionDefinition",parameters:{id:237,nodeType:"ParameterList",parameters:[{constant:!1,id:234,name:"_key",nodeType:"VariableDeclaration",scope:253,src:"726:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:233,name:"bytes32",nodeType:"ElementaryTypeName",src:"726:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:236,name:"_value",nodeType:"VariableDeclaration",scope:253,src:"740:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:235,name:"bytes32",nodeType:"ElementaryTypeName",src:"740:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"725:30:2"},returnParameters:{id:240,nodeType:"ParameterList",parameters:[],src:"775:0:2"},scope:335,src:"709:133:2",stateMutability:"nonpayable",superFunction:34,visibility:"external"},{body:{id:297,nodeType:"Block",src:"967:333:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:268,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:266,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"977:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:267,name:"OPERATION_CALL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:161,src:"995:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"977:32:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:278,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:276,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"1067:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:277,name:"OPERATION_CREATE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:164,src:"1085:16:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1067:34:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:294,nodeType:"Block",src:"1207:89:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"",id:291,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1286:2:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],id:290,name:"revert",nodeType:"Identifier",overloadedDeclarations:[779,780],referencedDeclaration:780,src:"1279:6:2",typeDescriptions:{typeIdentifier:"t_function_revert_pure$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory) pure"}},id:292,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1279:10:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:293,nodeType:"ExpressionStatement",src:"1279:10:2"}]},id:295,nodeType:"IfStatement",src:"1063:233:2",trueBody:{id:289,nodeType:"Block",src:"1103:98:2",statements:[{assignments:[280],declarations:[{constant:!1,id:280,name:"newContract",nodeType:"VariableDeclaration",scope:289,src:"1111:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:279,name:"address",nodeType:"ElementaryTypeName",src:"1111:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:284,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:282,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1147:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:281,name:"executeCreate",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:320,src:"1133:13:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_bytes_memory_ptr_$returns$_t_address_$",typeString:"function (bytes memory) returns (address)"}},id:283,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1133:20:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"1111:42:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:286,name:"newContract",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:280,src:"1182:11:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:285,name:"ContractCreated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:15,src:"1166:15:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:287,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1166:28:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:288,nodeType:"EmitStatement",src:"1161:33:2"}]}},id:296,nodeType:"IfStatement",src:"973:323:2",trueBody:{id:275,nodeType:"Block",src:"1011:46:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:270,name:"_to",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:257,src:"1031:3:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:271,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:259,src:"1036:6:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:272,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1044:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:269,name:"executeCall",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:311,src:"1019:11:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$",typeString:"function (address,uint256,bytes memory) returns (bool)"}},id:273,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1019:31:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:274,nodeType:"ExpressionStatement",src:"1019:31:2"}]}}]},documentation:null,id:298,implemented:!0,kind:"function",modifiers:[{arguments:null,id:264,modifierName:{argumentTypes:null,id:263,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"955:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"955:9:2"}],name:"execute",nodeType:"FunctionDefinition",parameters:{id:262,nodeType:"ParameterList",parameters:[{constant:!1,id:255,name:"_operationType",nodeType:"VariableDeclaration",scope:298,src:"863:22:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:254,name:"uint256",nodeType:"ElementaryTypeName",src:"863:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:257,name:"_to",nodeType:"VariableDeclaration",scope:298,src:"887:11:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:256,name:"address",nodeType:"ElementaryTypeName",src:"887:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:259,name:"_value",nodeType:"VariableDeclaration",scope:298,src:"900:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:258,name:"uint256",nodeType:"ElementaryTypeName",src:"900:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:261,name:"_data",nodeType:"VariableDeclaration",scope:298,src:"916:20:2",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:260,name:"bytes",nodeType:"ElementaryTypeName",src:"916:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"862:75:2"},returnParameters:{id:265,nodeType:"ParameterList",parameters:[],src:"967:0:2"},scope:335,src:"846:454:2",stateMutability:"nonpayable",superFunction:45,visibility:"external"},{body:{id:310,nodeType:"Block",src:"1533:160:2",statements:[{externalReferences:[{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1671:4:2",valueSize:1}},{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1652:4:2",valueSize:1}},{success:{declaration:307,isOffset:!1,isSlot:!1,src:"1616:7:2",valueSize:1}},{to:{declaration:300,isOffset:!1,isSlot:!1,src:"1637:2:2",valueSize:1}},{value:{declaration:302,isOffset:!1,isSlot:!1,src:"1641:5:2",valueSize:1}}],id:309,nodeType:"InlineAssembly",operations:"{\n    success := call(gas(), to, value, add(data, 0x20), mload(data), 0, 0)\n}",src:"1599:94:2"}]},documentation:null,id:311,implemented:!0,kind:"function",modifiers:[],name:"executeCall",nodeType:"FunctionDefinition",parameters:{id:305,nodeType:"ParameterList",parameters:[{constant:!1,id:300,name:"to",nodeType:"VariableDeclaration",scope:311,src:"1445:10:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:299,name:"address",nodeType:"ElementaryTypeName",src:"1445:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:302,name:"value",nodeType:"VariableDeclaration",scope:311,src:"1457:13:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:301,name:"uint256",nodeType:"ElementaryTypeName",src:"1457:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:304,name:"data",nodeType:"VariableDeclaration",scope:311,src:"1472:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:303,name:"bytes",nodeType:"ElementaryTypeName",src:"1472:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1444:46:2"},returnParameters:{id:308,nodeType:"ParameterList",parameters:[{constant:!1,id:307,name:"success",nodeType:"VariableDeclaration",scope:311,src:"1517:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:306,name:"bool",nodeType:"ElementaryTypeName",src:"1517:4:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1516:14:2"},scope:335,src:"1424:269:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:319,nodeType:"Block",src:"1908:147:2",statements:[{externalReferences:[{newContract:{declaration:316,isOffset:!1,isSlot:!1,src:"1991:11:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2020:4:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2039:4:2",valueSize:1}}],id:318,nodeType:"InlineAssembly",operations:"{\n    newContract := create(0, add(data, 0x20), mload(data))\n}",src:"1974:81:2"}]},documentation:null,id:320,implemented:!0,kind:"function",modifiers:[],name:"executeCreate",nodeType:"FunctionDefinition",parameters:{id:314,nodeType:"ParameterList",parameters:[{constant:!1,id:313,name:"data",nodeType:"VariableDeclaration",scope:320,src:"1840:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:312,name:"bytes",nodeType:"ElementaryTypeName",src:"1840:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1839:19:2"},returnParameters:{id:317,nodeType:"ParameterList",parameters:[{constant:!1,id:316,name:"newContract",nodeType:"VariableDeclaration",scope:320,src:"1885:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:315,name:"address",nodeType:"ElementaryTypeName",src:"1885:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"1884:21:2"},scope:335,src:"1817:238:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:333,nodeType:"Block",src:"2082:60:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:326,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:323,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2092:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:324,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2092:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:325,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"2106:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2092:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:332,nodeType:"IfStatement",src:"2088:49:2",trueBody:{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:328,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2126:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:329,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2126:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:327,name:"selfdestruct",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:782,src:"2113:12:2",typeDescriptions:{typeIdentifier:"t_function_selfdestruct_nonpayable$_t_address_payable_$returns$__$",typeString:"function (address payable)"}},id:330,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2113:24:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:331,nodeType:"ExpressionStatement",src:"2113:24:2"}}]},documentation:null,id:334,implemented:!0,kind:"function",modifiers:[],name:"kill",nodeType:"FunctionDefinition",parameters:{id:321,nodeType:"ParameterList",parameters:[],src:"2072:2:2"},returnParameters:{id:322,nodeType:"ParameterList",parameters:[],src:"2082:0:2"},scope:335,src:"2059:83:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:336,src:"84:2060:2"}],src:"0:2145:2"},legacyAST:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/Identity.sol",exportedSymbols:{Identity:[335]},id:336,nodeType:"SourceUnit",nodes:[{id:154,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:2"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:155,nodeType:"ImportDirective",scope:336,sourceUnit:47,src:"33:22:2",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",file:"./KeyManager.sol",id:156,nodeType:"ImportDirective",scope:336,sourceUnit:673,src:"56:26:2",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:157,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"105:6:2",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:158,nodeType:"InheritanceSpecifier",src:"105:6:2"}],contractDependencies:[46,672],contractKind:"contract",documentation:null,fullyImplemented:!0,id:335,linearizedBaseContracts:[335,46],name:"Identity",nodeType:"ContractDefinition",nodes:[{constant:!0,id:161,name:"OPERATION_CALL",nodeType:"VariableDeclaration",scope:335,src:"116:35:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:159,name:"uint256",nodeType:"ElementaryTypeName",src:"116:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"30",id:160,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"150:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},visibility:"internal"},{constant:!0,id:164,name:"OPERATION_CREATE",nodeType:"VariableDeclaration",scope:335,src:"155:37:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:162,name:"uint256",nodeType:"ElementaryTypeName",src:"155:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:163,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"191:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!1,id:166,name:"owner",nodeType:"VariableDeclaration",scope:335,src:"197:20:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:165,name:"address",nodeType:"ElementaryTypeName",src:"197:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:170,name:"store",nodeType:"VariableDeclaration",scope:335,src:"221:33:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},typeName:{id:169,keyType:{id:167,name:"bytes32",nodeType:"ElementaryTypeName",src:"229:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"221:27:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},valueType:{id:168,name:"bytes32",nodeType:"ElementaryTypeName",src:"240:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}},value:null,visibility:"internal"},{body:{id:187,nodeType:"Block",src:"294:65:2",statements:[{expression:{argumentTypes:null,id:185,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:175,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"300:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:180,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:793,src:"339:4:2",typeDescriptions:{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}],id:179,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"331:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:181,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"331:13:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:182,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:172,src:"346:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"}],id:178,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"NewExpression",src:"316:14:2",typeDescriptions:{typeIdentifier:"t_function_creation_nonpayable$_t_address_$_t_address_$returns$_t_contract$_KeyManager_$672_$",typeString:"function (address,address) returns (contract KeyManager)"},typeName:{contractScope:null,id:177,name:"KeyManager",nodeType:"UserDefinedTypeName",referencedDeclaration:672,src:"320:10:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}},id:183,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"316:37:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}],id:176,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"308:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:184,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"308:46:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"300:54:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:186,nodeType:"ExpressionStatement",src:"300:54:2"}]},documentation:null,id:188,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:173,nodeType:"ParameterList",parameters:[{constant:!1,id:172,name:"_owner",nodeType:"VariableDeclaration",scope:188,src:"271:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:171,name:"address",nodeType:"ElementaryTypeName",src:"271:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"270:16:2"},returnParameters:{id:174,nodeType:"ParameterList",parameters:[],src:"294:0:2"},scope:335,src:"259:100:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:199,nodeType:"Block",src:"384:68:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:194,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:191,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"398:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:192,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"398:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:193,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"412:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"398:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"6f6e6c792d6f776e65722d616c6c6f776564",id:195,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"419:20:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'},value:"only-owner-allowed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'}],id:190,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"390:7:2",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:196,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"390:50:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:197,nodeType:"ExpressionStatement",src:"390:50:2"},{id:198,nodeType:"PlaceholderStatement",src:"446:1:2"}]},documentation:null,id:200,name:"onlyOwner",nodeType:"ModifierDefinition",parameters:{id:189,nodeType:"ParameterList",parameters:[],src:"381:2:2"},src:"363:89:2",visibility:"internal"},{body:{id:203,nodeType:"Block",src:"485:2:2",statements:[]},documentation:null,id:204,implemented:!0,kind:"fallback",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:201,nodeType:"ParameterList",parameters:[],src:"465:2:2"},returnParameters:{id:202,nodeType:"ParameterList",parameters:[],src:"485:0:2"},scope:335,src:"456:31:2",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:219,nodeType:"Block",src:"547:55:2",statements:[{expression:{argumentTypes:null,id:213,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:211,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"553:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:212,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:206,src:"561:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"553:14:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:214,nodeType:"ExpressionStatement",src:"553:14:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:216,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"591:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:215,name:"OwnerChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"578:12:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:217,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"578:19:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:218,nodeType:"EmitStatement",src:"573:24:2"}]},documentation:null,id:220,implemented:!0,kind:"function",modifiers:[{arguments:null,id:209,modifierName:{argumentTypes:null,id:208,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"537:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"537:9:2"}],name:"changeOwner",nodeType:"FunctionDefinition",parameters:{id:207,nodeType:"ParameterList",parameters:[{constant:!1,id:206,name:"_owner",nodeType:"VariableDeclaration",scope:220,src:"512:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:205,name:"address",nodeType:"ElementaryTypeName",src:"512:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"511:16:2"},returnParameters:{id:210,nodeType:"ParameterList",parameters:[],src:"547:0:2"},scope:335,src:"491:111:2",stateMutability:"nonpayable",superFunction:20,visibility:"external"},{body:{id:231,nodeType:"Block",src:"676:29:2",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:227,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"689:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:229,indexExpression:{argumentTypes:null,id:228,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:222,src:"695:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"689:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:226,id:230,nodeType:"Return",src:"682:18:2"}]},documentation:null,id:232,implemented:!0,kind:"function",modifiers:[],name:"getData",nodeType:"FunctionDefinition",parameters:{id:223,nodeType:"ParameterList",parameters:[{constant:!1,id:222,name:"_key",nodeType:"VariableDeclaration",scope:232,src:"623:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:221,name:"bytes32",nodeType:"ElementaryTypeName",src:"623:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"622:14:2"},returnParameters:{id:226,nodeType:"ParameterList",parameters:[{constant:!1,id:225,name:"_value",nodeType:"VariableDeclaration",scope:232,src:"660:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:224,name:"bytes32",nodeType:"ElementaryTypeName",src:"660:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"659:16:2"},scope:335,src:"606:99:2",stateMutability:"view",superFunction:27,visibility:"external"},{body:{id:252,nodeType:"Block",src:"775:67:2",statements:[{expression:{argumentTypes:null,id:245,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:241,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"781:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:243,indexExpression:{argumentTypes:null,id:242,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"787:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"781:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:244,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"795:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"781:20:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:246,nodeType:"ExpressionStatement",src:"781:20:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:248,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"824:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:249,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"830:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:247,name:"DataChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"812:11:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$",typeString:"function (bytes32,bytes32)"}},id:250,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"812:25:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:251,nodeType:"EmitStatement",src:"807:30:2"}]},documentation:null,id:253,implemented:!0,kind:"function",modifiers:[{arguments:null,id:239,modifierName:{argumentTypes:null,id:238,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"765:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"765:9:2"}],name:"setData",nodeType:"FunctionDefinition",parameters:{id:237,nodeType:"ParameterList",parameters:[{constant:!1,id:234,name:"_key",nodeType:"VariableDeclaration",scope:253,src:"726:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:233,name:"bytes32",nodeType:"ElementaryTypeName",src:"726:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:236,name:"_value",nodeType:"VariableDeclaration",scope:253,src:"740:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:235,name:"bytes32",nodeType:"ElementaryTypeName",src:"740:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"725:30:2"},returnParameters:{id:240,nodeType:"ParameterList",parameters:[],src:"775:0:2"},scope:335,src:"709:133:2",stateMutability:"nonpayable",superFunction:34,visibility:"external"},{body:{id:297,nodeType:"Block",src:"967:333:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:268,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:266,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"977:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:267,name:"OPERATION_CALL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:161,src:"995:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"977:32:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:278,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:276,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"1067:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:277,name:"OPERATION_CREATE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:164,src:"1085:16:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1067:34:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:294,nodeType:"Block",src:"1207:89:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"",id:291,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1286:2:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],id:290,name:"revert",nodeType:"Identifier",overloadedDeclarations:[779,780],referencedDeclaration:780,src:"1279:6:2",typeDescriptions:{typeIdentifier:"t_function_revert_pure$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory) pure"}},id:292,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1279:10:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:293,nodeType:"ExpressionStatement",src:"1279:10:2"}]},id:295,nodeType:"IfStatement",src:"1063:233:2",trueBody:{id:289,nodeType:"Block",src:"1103:98:2",statements:[{assignments:[280],declarations:[{constant:!1,id:280,name:"newContract",nodeType:"VariableDeclaration",scope:289,src:"1111:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:279,name:"address",nodeType:"ElementaryTypeName",src:"1111:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:284,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:282,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1147:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:281,name:"executeCreate",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:320,src:"1133:13:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_bytes_memory_ptr_$returns$_t_address_$",typeString:"function (bytes memory) returns (address)"}},id:283,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1133:20:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"1111:42:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:286,name:"newContract",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:280,src:"1182:11:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:285,name:"ContractCreated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:15,src:"1166:15:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:287,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1166:28:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:288,nodeType:"EmitStatement",src:"1161:33:2"}]}},id:296,nodeType:"IfStatement",src:"973:323:2",trueBody:{id:275,nodeType:"Block",src:"1011:46:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:270,name:"_to",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:257,src:"1031:3:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:271,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:259,src:"1036:6:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:272,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1044:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:269,name:"executeCall",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:311,src:"1019:11:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$",typeString:"function (address,uint256,bytes memory) returns (bool)"}},id:273,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1019:31:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:274,nodeType:"ExpressionStatement",src:"1019:31:2"}]}}]},documentation:null,id:298,implemented:!0,kind:"function",modifiers:[{arguments:null,id:264,modifierName:{argumentTypes:null,id:263,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"955:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"955:9:2"}],name:"execute",nodeType:"FunctionDefinition",parameters:{id:262,nodeType:"ParameterList",parameters:[{constant:!1,id:255,name:"_operationType",nodeType:"VariableDeclaration",scope:298,src:"863:22:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:254,name:"uint256",nodeType:"ElementaryTypeName",src:"863:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:257,name:"_to",nodeType:"VariableDeclaration",scope:298,src:"887:11:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:256,name:"address",nodeType:"ElementaryTypeName",src:"887:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:259,name:"_value",nodeType:"VariableDeclaration",scope:298,src:"900:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:258,name:"uint256",nodeType:"ElementaryTypeName",src:"900:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:261,name:"_data",nodeType:"VariableDeclaration",scope:298,src:"916:20:2",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:260,name:"bytes",nodeType:"ElementaryTypeName",src:"916:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"862:75:2"},returnParameters:{id:265,nodeType:"ParameterList",parameters:[],src:"967:0:2"},scope:335,src:"846:454:2",stateMutability:"nonpayable",superFunction:45,visibility:"external"},{body:{id:310,nodeType:"Block",src:"1533:160:2",statements:[{externalReferences:[{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1671:4:2",valueSize:1}},{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1652:4:2",valueSize:1}},{success:{declaration:307,isOffset:!1,isSlot:!1,src:"1616:7:2",valueSize:1}},{to:{declaration:300,isOffset:!1,isSlot:!1,src:"1637:2:2",valueSize:1}},{value:{declaration:302,isOffset:!1,isSlot:!1,src:"1641:5:2",valueSize:1}}],id:309,nodeType:"InlineAssembly",operations:"{\n    success := call(gas(), to, value, add(data, 0x20), mload(data), 0, 0)\n}",src:"1599:94:2"}]},documentation:null,id:311,implemented:!0,kind:"function",modifiers:[],name:"executeCall",nodeType:"FunctionDefinition",parameters:{id:305,nodeType:"ParameterList",parameters:[{constant:!1,id:300,name:"to",nodeType:"VariableDeclaration",scope:311,src:"1445:10:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:299,name:"address",nodeType:"ElementaryTypeName",src:"1445:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:302,name:"value",nodeType:"VariableDeclaration",scope:311,src:"1457:13:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:301,name:"uint256",nodeType:"ElementaryTypeName",src:"1457:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:304,name:"data",nodeType:"VariableDeclaration",scope:311,src:"1472:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:303,name:"bytes",nodeType:"ElementaryTypeName",src:"1472:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1444:46:2"},returnParameters:{id:308,nodeType:"ParameterList",parameters:[{constant:!1,id:307,name:"success",nodeType:"VariableDeclaration",scope:311,src:"1517:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:306,name:"bool",nodeType:"ElementaryTypeName",src:"1517:4:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1516:14:2"},scope:335,src:"1424:269:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:319,nodeType:"Block",src:"1908:147:2",statements:[{externalReferences:[{newContract:{declaration:316,isOffset:!1,isSlot:!1,src:"1991:11:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2020:4:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2039:4:2",valueSize:1}}],id:318,nodeType:"InlineAssembly",operations:"{\n    newContract := create(0, add(data, 0x20), mload(data))\n}",src:"1974:81:2"}]},documentation:null,id:320,implemented:!0,kind:"function",modifiers:[],name:"executeCreate",nodeType:"FunctionDefinition",parameters:{id:314,nodeType:"ParameterList",parameters:[{constant:!1,id:313,name:"data",nodeType:"VariableDeclaration",scope:320,src:"1840:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:312,name:"bytes",nodeType:"ElementaryTypeName",src:"1840:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1839:19:2"},returnParameters:{id:317,nodeType:"ParameterList",parameters:[{constant:!1,id:316,name:"newContract",nodeType:"VariableDeclaration",scope:320,src:"1885:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:315,name:"address",nodeType:"ElementaryTypeName",src:"1885:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"1884:21:2"},scope:335,src:"1817:238:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:333,nodeType:"Block",src:"2082:60:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:326,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:323,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2092:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:324,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2092:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:325,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"2106:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2092:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:332,nodeType:"IfStatement",src:"2088:49:2",trueBody:{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:328,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2126:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:329,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2126:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:327,name:"selfdestruct",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:782,src:"2113:12:2",typeDescriptions:{typeIdentifier:"t_function_selfdestruct_nonpayable$_t_address_payable_$returns$__$",typeString:"function (address payable)"}},id:330,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2113:24:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:331,nodeType:"ExpressionStatement",src:"2113:24:2"}}]},documentation:null,id:334,implemented:!0,kind:"function",modifiers:[],name:"kill",nodeType:"FunctionDefinition",parameters:{id:321,nodeType:"ParameterList",parameters:[],src:"2072:2:2"},returnParameters:{id:322,nodeType:"ParameterList",parameters:[],src:"2082:0:2"},scope:335,src:"2059:83:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:336,src:"84:2060:2"}],src:"0:2145:2"},compiler:{name:"solc",version:"0.5.0+commit.1d4f565a.Emscripten.clang"},networks:{},schemaVersion:"3.0.2",updatedAt:"2019-04-13T07:31:17.239Z",devdoc:{methods:{}},userdoc:{methods:{}}}},function(e){e.exports={contractName:"KeyManager",abi:[{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_identity",type:"address"},{name:"_manager",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"purpose",type:"uint256"},{indexed:!1,name:"number",type:"uint256"}],name:"KeysRequiredChanged",type:"event"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"isExistent",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_keyType",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b50604051604080610dd88339810180604052604081101561003057600080fd5b810190808051906020019092919080519060200190929190505050806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555081600160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051602081830303815290604052805190602001209050606060405190810160405280600181526020016001815260200182815250600260008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050506003600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091505550600180827f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4505050610bd4806102046000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806312aaac701461007d5780631d381240146100da578063481c6a751461014157806353d413c5146101985780639010f726146101f5578063d202158d14610285575b600080fd5b34801561008957600080fd5b506100b6600480360360208110156100a057600080fd5b81019080803590602001909291905050506102e2565b60405180848152602001838152602001828152602001935050505060405180910390f35b3480156100e657600080fd5b50610127600480360360608110156100fd57600080fd5b81019080803590602001909291908035906020019092919080359060200190929190505050610339565b604051808215151515815260200191505060405180910390f35b34801561014d57600080fd5b50610156610635565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101a457600080fd5b506101db600480360360408110156101bb57600080fd5b81019080803590602001909291908035906020019092919050505061065a565b604051808215151515815260200191505060405180910390f35b34801561020157600080fd5b5061022e6004803603602081101561021857600080fd5b8101908080359060200190929190505050610a3c565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610271578082015181840152602081019050610256565b505050509050019250505060405180910390f35b34801561029157600080fd5b506102c8600480360360408110156102a857600080fd5b810190808035906020019092919080359060200190929190505050610aa7565b604051808215151515815260200191505060405180910390f35b60008060006002600085815260200190815260200160002060000154600260008681526020019081526020016000206001015460026000878152602001908152602001600020600201549250925092509193909250565b6000836002600086815260200190815260200160002060020154141515156103c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4b657920616c7265616479206578697374732e0000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ab573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b1580156104d557600080fd5b505afa1580156104e9573d6000803e3d6000fd5b505050506040513d60208110156104ff57600080fd5b810190808051906020019092919050505015156105aa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f7365206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60606040519081016040528084815260200183815260200185815250600260008681526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050508183857f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008260026000858152602001908152602001600020600201541415156106e9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f4e6f2073756368206b65792e000000000000000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156108cb573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b1580156107f557600080fd5b505afa158015610809573d6000803e3d6000fd5b505050506040513d602081101561081f57600080fd5b810190808051906020019092919050505015156108ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b600260008481526020019081526020016000206001015482847f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460026000848152602001908152602001600020600080820160009055600182016000905560028201600090555050600060036000848152602001908152602001600020905060008090505b8180549050811015610a0d5784828281548110151561097657fe5b90600052602060002001541415610a005781600183805490500381548110151561099c57fe5b906000526020600020015482828154811015156109b557fe5b90600052602060002001819055508160018380549050038154811015156109d857fe5b9060005260206000200160009055818054809190600190036109fa9190610b05565b50610a0d565b808060010191505061095b565b508060036000858152602001908152602001600020908054610a30929190610b31565b50600191505092915050565b606060036000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a9b57602002820191906000526020600020905b815481526020019060010190808311610a87575b50505050509050919050565b60008060010260026000858152602001908152602001600020600201541415610ad35760009050610aff565b8160026000858152602001908152602001600020600001541415610afa5760019050610aff565b600090505b92915050565b815481835581811115610b2c57818360005260206000209182019101610b2b9190610b83565b5b505050565b828054828255906000526020600020908101928215610b725760005260206000209182015b82811115610b71578254825591600101919060010190610b56565b5b509050610b7f9190610b83565b5090565b610ba591905b80821115610ba1576000816000905550600101610b89565b5090565b9056fea165627a7a72305820399f9f575325547872ec54fdeb88688044ce836017ac93fef690212ecbce79140029",deployedBytecode:"0x608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806312aaac701461007d5780631d381240146100da578063481c6a751461014157806353d413c5146101985780639010f726146101f5578063d202158d14610285575b600080fd5b34801561008957600080fd5b506100b6600480360360208110156100a057600080fd5b81019080803590602001909291905050506102e2565b60405180848152602001838152602001828152602001935050505060405180910390f35b3480156100e657600080fd5b50610127600480360360608110156100fd57600080fd5b81019080803590602001909291908035906020019092919080359060200190929190505050610339565b604051808215151515815260200191505060405180910390f35b34801561014d57600080fd5b50610156610635565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101a457600080fd5b506101db600480360360408110156101bb57600080fd5b81019080803590602001909291908035906020019092919050505061065a565b604051808215151515815260200191505060405180910390f35b34801561020157600080fd5b5061022e6004803603602081101561021857600080fd5b8101908080359060200190929190505050610a3c565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610271578082015181840152602081019050610256565b505050509050019250505060405180910390f35b34801561029157600080fd5b506102c8600480360360408110156102a857600080fd5b810190808035906020019092919080359060200190929190505050610aa7565b604051808215151515815260200191505060405180910390f35b60008060006002600085815260200190815260200160002060000154600260008681526020019081526020016000206001015460026000878152602001908152602001600020600201549250925092509193909250565b6000836002600086815260200190815260200160002060020154141515156103c9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4b657920616c7265616479206578697374732e0000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ab573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b1580156104d557600080fd5b505afa1580156104e9573d6000803e3d6000fd5b505050506040513d60208110156104ff57600080fd5b810190808051906020019092919050505015156105aa576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f7365206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60606040519081016040528084815260200183815260200185815250600260008681526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050508183857f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60008260026000858152602001908152602001600020600201541415156106e9576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f4e6f2073756368206b65792e000000000000000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156108cb573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b1580156107f557600080fd5b505afa158015610809573d6000803e3d6000fd5b505050506040513d602081101561081f57600080fd5b810190808051906020019092919050505015156108ca576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b600260008481526020019081526020016000206001015482847f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a460026000848152602001908152602001600020600080820160009055600182016000905560028201600090555050600060036000848152602001908152602001600020905060008090505b8180549050811015610a0d5784828281548110151561097657fe5b90600052602060002001541415610a005781600183805490500381548110151561099c57fe5b906000526020600020015482828154811015156109b557fe5b90600052602060002001819055508160018380549050038154811015156109d857fe5b9060005260206000200160009055818054809190600190036109fa9190610b05565b50610a0d565b808060010191505061095b565b508060036000858152602001908152602001600020908054610a30929190610b31565b50600191505092915050565b606060036000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a9b57602002820191906000526020600020905b815481526020019060010190808311610a87575b50505050509050919050565b60008060010260026000858152602001908152602001600020600201541415610ad35760009050610aff565b8160026000858152602001908152602001600020600001541415610afa5760019050610aff565b600090505b92915050565b815481835581811115610b2c57818360005260206000209182019101610b2b9190610b83565b5b505050565b828054828255906000526020600020908101928215610b725760005260206000209182015b82811115610b71578254825591600101919060010190610b56565b5b509050610b7f9190610b83565b5090565b610ba591905b80821115610ba1576000816000905550600101610b89565b5090565b9056fea165627a7a72305820399f9f575325547872ec54fdeb88688044ce836017ac93fef690212ecbce79140029",sourceMap:"80:2558:3:-;;;438:381;8:9:-1;5:2;;;30:1;27;20:12;5:2;438:381:3;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;438:381:3;;;;;;;;;;;;;;;;;;;;;;;;;510:8;500:7;;:18;;;;;;;;;;;;;;;;;;542:9;524:8;;:28;;;;;;;;;;;;;;;;;;558:12;600:8;583:26;;;;;;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;583:26:3;;;573:37;;;;;;558:52;;629:86;;;;;;;;;149:1;629:86;;;;264:1;629:86;;;;704:4;629:86;;;616:4;:10;621:4;616:10;;;;;;;;;;;:99;;;;;;;;;;;;;;;;;;;;;;;;;;;721:13;:29;149:1;721:29;;;;;;;;;;;756:4;721:40;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;721:40:3;;;;;;;;;;;;;;;;;;;;;;264:1;149;781:4;772:42;;;;;;;;;;438:381;;;80:2558;;;;;;",deployedSourceMap:"80:2558:3:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1071:174;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1071:174:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1071:174:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1386:488;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1386:488:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1386:488:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;303:22;;8:9:-1;5:2;;;30:1;27;20:12;5:2;303:22:3;;;;;;;;;;;;;;;;;;;;;;;;;;;1879:756;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1879:756:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1879:756:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1250:132;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1250:132:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1250:132:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;1250:132:3;;;;;;;;;;;;;;;;;823:243;;8:9:-1;5:2;;;30:1;27;20:12;5:2;823:243:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;823:243:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1071:174;1124:15;1141;1158:11;1185:4;:10;1190:4;1185:10;;;;;;;;;;;:18;;;1205:4;:10;1210:4;1205:10;;;;;;;;;;;:18;;;1225:4;:10;1230:4;1225:10;;;;;;;;;;;:14;;;1177:63;;;;;;1071:174;;;;;:::o;1386:488::-;1470:12;1516:4;1498;:10;1503:4;1498:10;;;;;;;;;;;:14;;;:22;;1490:54;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1576:4;1554:27;;:10;:27;;;;1550:158;;;1599:4;:18;;;1645:10;1628:28;;;;;;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;1628:28:3;;;1618:39;;;;;;1659:1;1599:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1599:62:3;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1599:62:3;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1599:62:3;;;;;;;;;;;;;;;;1591:110;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1550:158;1727:78;;;;;;;;;1765:8;1727:78;;;;1790:8;1727:78;;;;1744:4;1727:78;;;1714:4;:10;1719:4;1714:10;;;;;;;;;;;:91;;;;;;;;;;;;;;;;;;;;;;;;;;;1842:8;1832;1826:4;1817:34;;;;;;;;;;1865:4;1858:11;;1386:488;;;;;:::o;303:22::-;;;;;;;;;;;;;:::o;1879:756::-;1948:12;1994:4;1976;:10;1981:4;1976:10;;;;;;;;;;;:14;;;:22;1968:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2047:4;2025:27;;:10;:27;;;;2021:158;;;2070:4;:18;;;2116:10;2099:28;;;;;;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;2099:28:3;;;2089:39;;;;;;2130:1;2070:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2070:62:3;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2070:62:3;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;2070:62:3;;;;;;;;;;;;;;;;2062:110;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2021:158;2221:4;:10;2226:4;2221:10;;;;;;;;;;;:18;;;2211:8;2205:4;2194:46;;;;;;;;;;2254:4;:10;2259:4;2254:10;;;;;;;;;;;;2247:17;;;;;;;;;;;;;;;;;;;;2271:27;2301:13;:23;2315:8;2301:23;;;;;;;;;;;2271:53;;2335:6;2344:1;2335:10;;2330:241;2351:9;:16;;;;2347:1;:20;2330:241;;;2402:4;2386:9;2396:1;2386:12;;;;;;;;;;;;;;;;;;:20;2382:183;;;2433:9;2462:1;2443:9;:16;;;;:20;2433:31;;;;;;;;;;;;;;;;;;2418:9;2428:1;2418:12;;;;;;;;;;;;;;;;;:46;;;;2481:9;2510:1;2491:9;:16;;;;:20;2481:31;;;;;;;;;;;;;;;;;2474:38;;;2522:9;:19;;;;;;;;;;;;:::i;:::-;;2551:5;;2382:183;2369:3;;;;;;;2330:241;;;;2602:9;2576:13;:23;2590:8;2576:23;;;;;;;;;;;:35;;;;;;;;:::i;:::-;;2626:4;2619:11;;;1879:756;;;;:::o;1250:132::-;1317:22;1354:13;:23;1368:8;1354:23;;;;;;;;;;;1347:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1250:132;;;:::o;823:243::-;901:15;946:1;928:19;;:4;:10;933:4;928:10;;;;;;;;;;;:14;;;:19;924:37;;;956:5;949:12;;;;924:37;993:8;971:4;:10;976:4;971:10;;;;;;;;;;;:18;;;:30;967:95;;;1018:4;1011:11;;;;967:95;1050:5;1043:12;;823:243;;;;;:::o;80:2558::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o",source:'pragma solidity >=0.5.0 <0.6.0;\n\nimport "./ERC725.sol";\nimport "./ERC734.sol";\n\ncontract KeyManager is ERC734 {\n\n  uint256 constant MANAGEMENT_KEY = 1;\n  uint256 constant EXECUTION_KEY = 2;\n  uint256 constant CLAIM_SIGNER_KEY = 3;\n\n  uint256 constant ECDSA_TYPE = 1;\n  uint256 constant RSA_TYPE = 2;\n\n  address public manager;\n  ERC725 private identity;\n  mapping (bytes32 => Key) keys;\n  mapping (uint256 => bytes32[]) keysByPurpose;\n\n  constructor(address _identity, address _manager) public {\n    manager = _manager;\n    identity = ERC725(_identity);\n    bytes32 _key = keccak256(abi.encodePacked(_manager));\n    keys[_key] = Key({\n      purpose: MANAGEMENT_KEY,\n      keyType: ECDSA_TYPE,\n      key: _key\n    });\n    keysByPurpose[MANAGEMENT_KEY].push(_key);\n    emit KeyAdded(_key, MANAGEMENT_KEY, ECDSA_TYPE);\n  }\n\n  function keyHasPurpose(bytes32 _key, uint256 _purpose) external view returns (bool isExistent) {\n    if (keys[_key].key == 0) return false;\n    if (keys[_key].purpose == _purpose) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n  function getKey(bytes32 _key) external view returns (uint256 purpose, uint256 keyType, bytes32 key) {\n    return (keys[_key].purpose, keys[_key].keyType, keys[_key].key);\n  }\n\n\n  function getKeysByPurpose(uint256 _purpose) external view returns (bytes32[] memory _keys) {\n    return keysByPurpose[_purpose];\n  }\n\n  function addKey(bytes32 _key, uint256 _purpose, uint256 _keyType) external returns (bool success) {\n    require(keys[_key].key != _key, "Key already exists.");\n    if (msg.sender != address(this)) {\n      require(this.keyHasPurpose(keccak256(abi.encodePacked(msg.sender)), 1), "Sender dose not have a manager key.");\n    }\n\n    keys[_key] = Key({\n      key: _key,\n      purpose: _purpose,\n      keyType: _keyType\n    });\n\n    emit KeyAdded(_key, _purpose, _keyType);\n\n    return true;\n  }\n\n\n  function removeKey(bytes32 _key, uint256 _purpose) external returns (bool success) {\n    require(keys[_key].key == _key, "No such key.");\n    if (msg.sender != address(this)) {\n      require(this.keyHasPurpose(keccak256(abi.encodePacked(msg.sender)), 1), "Sender does not have a manager key.");\n    }\n    \n    emit KeyRemoved(_key, _purpose, keys[_key].keyType);\n\n    delete keys[_key];\n\n    bytes32[] storage keysCache = keysByPurpose[_purpose];\n    for (uint i = 0; i < keysCache.length; i++) {\n      if (keysCache[i] == _key) {\n        keysCache[i] = keysCache[keysCache.length - 1];\n        delete keysCache[keysCache.length - 1];\n        keysCache.length --;\n        break;\n      }\n    }\n    keysByPurpose[_purpose] = keysCache;\n\n\n    return true;\n  }\n\n}\n',sourcePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",ast:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",exportedSymbols:{KeyManager:[672]},id:673,nodeType:"SourceUnit",nodes:[{id:337,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:3"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:338,nodeType:"ImportDirective",scope:673,sourceUnit:47,src:"33:22:3",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC734.sol",file:"./ERC734.sol",id:339,nodeType:"ImportDirective",scope:673,sourceUnit:153,src:"56:22:3",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:340,name:"ERC734",nodeType:"UserDefinedTypeName",referencedDeclaration:152,src:"103:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC734_$152",typeString:"contract ERC734"}},id:341,nodeType:"InheritanceSpecifier",src:"103:6:3"}],contractDependencies:[152],contractKind:"contract",documentation:null,fullyImplemented:!0,id:672,linearizedBaseContracts:[672,152],name:"KeyManager",nodeType:"ContractDefinition",nodes:[{constant:!0,id:344,name:"MANAGEMENT_KEY",nodeType:"VariableDeclaration",scope:672,src:"115:35:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:342,name:"uint256",nodeType:"ElementaryTypeName",src:"115:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:343,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"149:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:347,name:"EXECUTION_KEY",nodeType:"VariableDeclaration",scope:672,src:"154:34:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:345,name:"uint256",nodeType:"ElementaryTypeName",src:"154:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:346,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"187:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!0,id:350,name:"CLAIM_SIGNER_KEY",nodeType:"VariableDeclaration",scope:672,src:"192:37:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:348,name:"uint256",nodeType:"ElementaryTypeName",src:"192:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"33",id:349,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"228:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_3_by_1",typeString:"int_const 3"},value:"3"},visibility:"internal"},{constant:!0,id:353,name:"ECDSA_TYPE",nodeType:"VariableDeclaration",scope:672,src:"234:31:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:351,name:"uint256",nodeType:"ElementaryTypeName",src:"234:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:352,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"264:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:356,name:"RSA_TYPE",nodeType:"VariableDeclaration",scope:672,src:"269:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:354,name:"uint256",nodeType:"ElementaryTypeName",src:"269:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:355,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"297:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!1,id:358,name:"manager",nodeType:"VariableDeclaration",scope:672,src:"303:22:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:357,name:"address",nodeType:"ElementaryTypeName",src:"303:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:360,name:"identity",nodeType:"VariableDeclaration",scope:672,src:"329:23:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"},typeName:{contractScope:null,id:359,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"329:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},value:null,visibility:"private"},{constant:!1,id:364,name:"keys",nodeType:"VariableDeclaration",scope:672,src:"356:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},typeName:{id:363,keyType:{id:361,name:"bytes32",nodeType:"ElementaryTypeName",src:"365:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"356:24:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},valueType:{contractScope:null,id:362,name:"Key",nodeType:"UserDefinedTypeName",referencedDeclaration:103,src:"376:3:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage_ptr",typeString:"struct ERC734.Key"}}},value:null,visibility:"internal"},{constant:!1,id:369,name:"keysByPurpose",nodeType:"VariableDeclaration",scope:672,src:"389:44:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},typeName:{id:368,keyType:{id:365,name:"uint256",nodeType:"ElementaryTypeName",src:"398:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Mapping",src:"389:30:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},valueType:{baseType:{id:366,name:"bytes32",nodeType:"ElementaryTypeName",src:"409:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:367,length:null,nodeType:"ArrayTypeName",src:"409:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}}},value:null,visibility:"internal"},{body:{id:418,nodeType:"Block",src:"494:325:3",statements:[{expression:{argumentTypes:null,id:378,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:376,name:"manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:358,src:"500:7:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:377,name:"_manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:373,src:"510:8:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"500:18:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:379,nodeType:"ExpressionStatement",src:"500:18:3"},{expression:{argumentTypes:null,id:384,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:380,name:"identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:360,src:"524:8:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:382,name:"_identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:371,src:"542:9:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:381,name:"ERC725",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:46,src:"535:6:3",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC725_$46_$",typeString:"type(contract ERC725)"}},id:383,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"535:17:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},src:"524:28:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:385,nodeType:"ExpressionStatement",src:"524:28:3"},{assignments:[387],declarations:[{constant:!1,id:387,name:"_key",nodeType:"VariableDeclaration",scope:418,src:"558:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:386,name:"bytes32",nodeType:"ElementaryTypeName",src:"558:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:394,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:391,name:"_manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:373,src:"600:8:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:389,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:761,src:"583:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:390,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"583:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:392,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"583:26:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:388,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"573:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:393,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"573:37:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"558:52:3"},{expression:{argumentTypes:null,id:403,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:395,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"616:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:397,indexExpression:{argumentTypes:null,id:396,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"621:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"616:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:399,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"650:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:400,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"681:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:401,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"704:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:null,id:398,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"629:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:402,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["purpose","keyType","key"],nodeType:"FunctionCall",src:"629:86:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"616:99:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:404,nodeType:"ExpressionStatement",src:"616:99:3"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:409,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"756:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:405,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"721:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:407,indexExpression:{argumentTypes:null,id:406,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"735:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"721:29:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:408,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"721:34:3",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) returns (uint256)"}},id:410,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"721:40:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:411,nodeType:"ExpressionStatement",src:"721:40:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:413,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"781:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:414,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"787:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:415,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"803:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:412,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"772:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:416,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"772:42:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:417,nodeType:"EmitStatement",src:"767:47:3"}]},documentation:null,id:419,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:374,nodeType:"ParameterList",parameters:[{constant:!1,id:371,name:"_identity",nodeType:"VariableDeclaration",scope:419,src:"450:17:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:370,name:"address",nodeType:"ElementaryTypeName",src:"450:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:373,name:"_manager",nodeType:"VariableDeclaration",scope:419,src:"469:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:372,name:"address",nodeType:"ElementaryTypeName",src:"469:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"449:37:3"},returnParameters:{id:375,nodeType:"ParameterList",parameters:[],src:"494:0:3"},scope:672,src:"438:381:3",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:450,nodeType:"Block",src:"918:148:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:433,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:428,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"928:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:430,indexExpression:{argumentTypes:null,id:429,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:421,src:"933:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"928:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:431,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"928:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:432,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"946:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"928:19:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:436,nodeType:"IfStatement",src:"924:37:3",trueBody:{expression:{argumentTypes:null,hexValue:"66616c7365",id:434,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"956:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:427,id:435,nodeType:"Return",src:"949:12:3"}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:442,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:437,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"971:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:439,indexExpression:{argumentTypes:null,id:438,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:421,src:"976:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"971:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:440,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"971:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:441,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:423,src:"993:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"971:30:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:448,nodeType:"Block",src:"1035:27:3",statements:[{expression:{argumentTypes:null,hexValue:"66616c7365",id:446,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1050:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:427,id:447,nodeType:"Return",src:"1043:12:3"}]},id:449,nodeType:"IfStatement",src:"967:95:3",trueBody:{id:445,nodeType:"Block",src:"1003:26:3",statements:[{expression:{argumentTypes:null,hexValue:"74727565",id:443,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1018:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:427,id:444,nodeType:"Return",src:"1011:11:3"}]}}]},documentation:null,id:451,implemented:!0,kind:"function",modifiers:[],name:"keyHasPurpose",nodeType:"FunctionDefinition",parameters:{id:424,nodeType:"ParameterList",parameters:[{constant:!1,id:421,name:"_key",nodeType:"VariableDeclaration",scope:451,src:"846:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:420,name:"bytes32",nodeType:"ElementaryTypeName",src:"846:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:423,name:"_purpose",nodeType:"VariableDeclaration",scope:451,src:"860:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:422,name:"uint256",nodeType:"ElementaryTypeName",src:"860:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"845:32:3"},returnParameters:{id:427,nodeType:"ParameterList",parameters:[{constant:!1,id:426,name:"isExistent",nodeType:"VariableDeclaration",scope:451,src:"901:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:425,name:"bool",nodeType:"ElementaryTypeName",src:"901:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"900:17:3"},scope:672,src:"823:243:3",stateMutability:"view",superFunction:112,visibility:"external"},{body:{id:476,nodeType:"Block",src:"1171:74:3",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:462,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1185:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:464,indexExpression:{argumentTypes:null,id:463,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:453,src:"1190:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1185:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:465,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"1185:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:466,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1205:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:468,indexExpression:{argumentTypes:null,id:467,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:453,src:"1210:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1205:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:469,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"1205:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:470,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1225:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:472,indexExpression:{argumentTypes:null,id:471,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:453,src:"1230:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1225:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:473,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1225:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],id:474,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"1184:56:3",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$_t_bytes32_$",typeString:"tuple(uint256,uint256,bytes32)"}},functionReturnParameters:461,id:475,nodeType:"Return",src:"1177:63:3"}]},documentation:null,id:477,implemented:!0,kind:"function",modifiers:[],name:"getKey",nodeType:"FunctionDefinition",parameters:{id:454,nodeType:"ParameterList",parameters:[{constant:!1,id:453,name:"_key",nodeType:"VariableDeclaration",scope:477,src:"1087:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:452,name:"bytes32",nodeType:"ElementaryTypeName",src:"1087:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1086:14:3"},returnParameters:{id:461,nodeType:"ParameterList",parameters:[{constant:!1,id:456,name:"purpose",nodeType:"VariableDeclaration",scope:477,src:"1124:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:455,name:"uint256",nodeType:"ElementaryTypeName",src:"1124:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:458,name:"keyType",nodeType:"VariableDeclaration",scope:477,src:"1141:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:457,name:"uint256",nodeType:"ElementaryTypeName",src:"1141:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:460,name:"key",nodeType:"VariableDeclaration",scope:477,src:"1158:11:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:459,name:"bytes32",nodeType:"ElementaryTypeName",src:"1158:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1123:47:3"},scope:672,src:"1071:174:3",stateMutability:"view",superFunction:123,visibility:"external"},{body:{id:489,nodeType:"Block",src:"1341:41:3",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:485,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"1354:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:487,indexExpression:{argumentTypes:null,id:486,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:479,src:"1368:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1354:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},functionReturnParameters:484,id:488,nodeType:"Return",src:"1347:30:3"}]},documentation:null,id:490,implemented:!0,kind:"function",modifiers:[],name:"getKeysByPurpose",nodeType:"FunctionDefinition",parameters:{id:480,nodeType:"ParameterList",parameters:[{constant:!1,id:479,name:"_purpose",nodeType:"VariableDeclaration",scope:490,src:"1276:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:478,name:"uint256",nodeType:"ElementaryTypeName",src:"1276:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1275:18:3"},returnParameters:{id:484,nodeType:"ParameterList",parameters:[{constant:!1,id:483,name:"_keys",nodeType:"VariableDeclaration",scope:490,src:"1317:22:3",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:481,name:"bytes32",nodeType:"ElementaryTypeName",src:"1317:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:482,length:null,nodeType:"ArrayTypeName",src:"1317:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],src:"1316:24:3"},scope:672,src:"1250:132:3",stateMutability:"view",superFunction:131,visibility:"external"},{body:{id:552,nodeType:"Block",src:"1484:390:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:507,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:502,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1498:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:504,indexExpression:{argumentTypes:null,id:503,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1503:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1498:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:505,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1498:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,id:506,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1516:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1498:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4b657920616c7265616479206578697374732e",id:508,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1522:21:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'},value:"Key already exists."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'}],id:501,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"1490:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:509,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1490:54:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:510,nodeType:"ExpressionStatement",src:"1490:54:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:516,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:511,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"1554:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:512,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1554:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:514,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"1576:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}],id:513,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1568:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:515,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1568:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1554:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:533,nodeType:"IfStatement",src:"1550:158:3",trueBody:{id:532,nodeType:"Block",src:"1583:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:523,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"1645:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:524,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1645:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:521,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:761,src:"1628:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:522,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1628:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:525,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1628:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:520,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"1618:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:526,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1618:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:527,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1659:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:518,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"1599:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}},id:519,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:451,src:"1599:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:528,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1599:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f7365206e6f7420686176652061206d616e61676572206b65792e",id:529,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1663:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'},value:"Sender dose not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'}],id:517,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"1591:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:530,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1591:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:531,nodeType:"ExpressionStatement",src:"1591:110:3"}]}},{expression:{argumentTypes:null,id:542,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:534,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1714:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:536,indexExpression:{argumentTypes:null,id:535,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1719:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"1714:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:538,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1744:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:539,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:494,src:"1765:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:540,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:496,src:"1790:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:null,id:537,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"1727:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:541,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["key","purpose","keyType"],nodeType:"FunctionCall",src:"1727:78:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"1714:91:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:543,nodeType:"ExpressionStatement",src:"1714:91:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:545,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1826:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:546,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:494,src:"1832:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:547,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:496,src:"1842:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:544,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"1817:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:548,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1817:34:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:549,nodeType:"EmitStatement",src:"1812:39:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:550,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1865:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:500,id:551,nodeType:"Return",src:"1858:11:3"}]},documentation:null,id:553,implemented:!0,kind:"function",modifiers:[],name:"addKey",nodeType:"FunctionDefinition",parameters:{id:497,nodeType:"ParameterList",parameters:[{constant:!1,id:492,name:"_key",nodeType:"VariableDeclaration",scope:553,src:"1402:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:491,name:"bytes32",nodeType:"ElementaryTypeName",src:"1402:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:494,name:"_purpose",nodeType:"VariableDeclaration",scope:553,src:"1416:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:493,name:"uint256",nodeType:"ElementaryTypeName",src:"1416:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:496,name:"_keyType",nodeType:"VariableDeclaration",scope:553,src:"1434:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:495,name:"uint256",nodeType:"ElementaryTypeName",src:"1434:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1401:50:3"},returnParameters:{id:500,nodeType:"ParameterList",parameters:[{constant:!1,id:499,name:"success",nodeType:"VariableDeclaration",scope:553,src:"1470:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:498,name:"bool",nodeType:"ElementaryTypeName",src:"1470:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1469:14:3"},scope:672,src:"1386:488:3",stateMutability:"nonpayable",superFunction:142,visibility:"external"},{body:{id:670,nodeType:"Block",src:"1962:673:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:568,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:563,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1976:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:565,indexExpression:{argumentTypes:null,id:564,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"1981:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1976:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:566,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1976:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:567,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"1994:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1976:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4e6f2073756368206b65792e",id:569,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2000:14:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'},value:"No such key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'}],id:562,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"1968:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:570,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1968:47:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:571,nodeType:"ExpressionStatement",src:"1968:47:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:577,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:572,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2025:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:573,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2025:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:575,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"2047:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}],id:574,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2039:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:576,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2039:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2025:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:594,nodeType:"IfStatement",src:"2021:158:3",trueBody:{id:593,nodeType:"Block",src:"2054:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:584,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2116:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:585,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2116:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:582,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:761,src:"2099:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:583,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2099:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:586,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2099:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:581,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"2089:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:587,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2089:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:588,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2130:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:579,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"2070:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}},id:580,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:451,src:"2070:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:589,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2070:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f6573206e6f7420686176652061206d616e61676572206b65792e",id:590,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2134:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'},value:"Sender does not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'}],id:578,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"2062:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:591,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2062:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:592,nodeType:"ExpressionStatement",src:"2062:110:3"}]}},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:596,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2205:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:597,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"2211:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:598,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"2221:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:600,indexExpression:{argumentTypes:null,id:599,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2226:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2221:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:601,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"2221:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:595,name:"KeyRemoved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:64,src:"2194:10:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:602,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2194:46:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:603,nodeType:"EmitStatement",src:"2189:51:3"},{expression:{argumentTypes:null,id:607,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2247:17:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:604,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"2254:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:606,indexExpression:{argumentTypes:null,id:605,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2259:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2254:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:608,nodeType:"ExpressionStatement",src:"2247:17:3"},{assignments:[612],declarations:[{constant:!1,id:612,name:"keysCache",nodeType:"VariableDeclaration",scope:670,src:"2271:27:3",stateVariable:!1,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:610,name:"bytes32",nodeType:"ElementaryTypeName",src:"2271:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:611,length:null,nodeType:"ArrayTypeName",src:"2271:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],id:616,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:613,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"2301:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:615,indexExpression:{argumentTypes:null,id:614,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"2315:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2301:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"2271:53:3"},{body:{id:660,nodeType:"Block",src:"2374:197:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:632,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:628,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2386:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:630,indexExpression:{argumentTypes:null,id:629,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2396:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2386:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:631,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2402:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2386:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:659,nodeType:"IfStatement",src:"2382:183:3",trueBody:{id:658,nodeType:"Block",src:"2408:157:3",statements:[{expression:{argumentTypes:null,id:642,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:633,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2418:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:635,indexExpression:{argumentTypes:null,id:634,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2428:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2418:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:636,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2433:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:641,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:640,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:637,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2443:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:638,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2443:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:639,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2462:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2443:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2433:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2418:46:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:643,nodeType:"ExpressionStatement",src:"2418:46:3"},{expression:{argumentTypes:null,id:650,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2474:38:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:644,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2481:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:649,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:648,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:645,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2491:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:646,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2491:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:647,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2510:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2491:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2481:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:651,nodeType:"ExpressionStatement",src:"2474:38:3"},{expression:{argumentTypes:null,id:655,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"2522:19:3",subExpression:{argumentTypes:null,expression:{argumentTypes:null,id:652,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2522:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:654,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2522:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:656,nodeType:"ExpressionStatement",src:"2522:19:3"},{id:657,nodeType:"Break",src:"2551:5:3"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:624,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:621,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2347:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:622,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2351:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:623,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2351:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2347:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:661,initializationExpression:{assignments:[618],declarations:[{constant:!1,id:618,name:"i",nodeType:"VariableDeclaration",scope:661,src:"2335:6:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:617,name:"uint",nodeType:"ElementaryTypeName",src:"2335:4:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:620,initialValue:{argumentTypes:null,hexValue:"30",id:619,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2344:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2335:10:3"},loopExpression:{expression:{argumentTypes:null,id:626,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"2369:3:3",subExpression:{argumentTypes:null,id:625,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2369:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:627,nodeType:"ExpressionStatement",src:"2369:3:3"},nodeType:"ForStatement",src:"2330:241:3"},{expression:{argumentTypes:null,id:666,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:662,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"2576:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:664,indexExpression:{argumentTypes:null,id:663,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"2590:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2576:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:665,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2602:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},src:"2576:35:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:667,nodeType:"ExpressionStatement",src:"2576:35:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:668,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"2626:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:561,id:669,nodeType:"Return",src:"2619:11:3"}]},documentation:null,id:671,implemented:!0,kind:"function",modifiers:[],name:"removeKey",nodeType:"FunctionDefinition",parameters:{id:558,nodeType:"ParameterList",parameters:[{constant:!1,id:555,name:"_key",nodeType:"VariableDeclaration",scope:671,src:"1898:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:554,name:"bytes32",nodeType:"ElementaryTypeName",src:"1898:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:557,name:"_purpose",nodeType:"VariableDeclaration",scope:671,src:"1912:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:556,name:"uint256",nodeType:"ElementaryTypeName",src:"1912:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1897:32:3"},returnParameters:{id:561,nodeType:"ParameterList",parameters:[{constant:!1,id:560,name:"success",nodeType:"VariableDeclaration",scope:671,src:"1948:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:559,name:"bool",nodeType:"ElementaryTypeName",src:"1948:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1947:14:3"},scope:672,src:"1879:756:3",stateMutability:"nonpayable",superFunction:151,visibility:"external"}],scope:673,src:"80:2558:3"}],src:"0:2639:3"},legacyAST:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",exportedSymbols:{KeyManager:[672]},id:673,nodeType:"SourceUnit",nodes:[{id:337,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:3"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:338,nodeType:"ImportDirective",scope:673,sourceUnit:47,src:"33:22:3",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC734.sol",file:"./ERC734.sol",id:339,nodeType:"ImportDirective",scope:673,sourceUnit:153,src:"56:22:3",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:340,name:"ERC734",nodeType:"UserDefinedTypeName",referencedDeclaration:152,src:"103:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC734_$152",typeString:"contract ERC734"}},id:341,nodeType:"InheritanceSpecifier",src:"103:6:3"}],contractDependencies:[152],contractKind:"contract",documentation:null,fullyImplemented:!0,id:672,linearizedBaseContracts:[672,152],name:"KeyManager",nodeType:"ContractDefinition",nodes:[{constant:!0,id:344,name:"MANAGEMENT_KEY",nodeType:"VariableDeclaration",scope:672,src:"115:35:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:342,name:"uint256",nodeType:"ElementaryTypeName",src:"115:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:343,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"149:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:347,name:"EXECUTION_KEY",nodeType:"VariableDeclaration",scope:672,src:"154:34:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:345,name:"uint256",nodeType:"ElementaryTypeName",src:"154:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:346,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"187:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!0,id:350,name:"CLAIM_SIGNER_KEY",nodeType:"VariableDeclaration",scope:672,src:"192:37:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:348,name:"uint256",nodeType:"ElementaryTypeName",src:"192:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"33",id:349,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"228:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_3_by_1",typeString:"int_const 3"},value:"3"},visibility:"internal"},{constant:!0,id:353,name:"ECDSA_TYPE",nodeType:"VariableDeclaration",scope:672,src:"234:31:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:351,name:"uint256",nodeType:"ElementaryTypeName",src:"234:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:352,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"264:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:356,name:"RSA_TYPE",nodeType:"VariableDeclaration",scope:672,src:"269:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:354,name:"uint256",nodeType:"ElementaryTypeName",src:"269:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:355,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"297:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!1,id:358,name:"manager",nodeType:"VariableDeclaration",scope:672,src:"303:22:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:357,name:"address",nodeType:"ElementaryTypeName",src:"303:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:360,name:"identity",nodeType:"VariableDeclaration",scope:672,src:"329:23:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"},typeName:{contractScope:null,id:359,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"329:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},value:null,visibility:"private"},{constant:!1,id:364,name:"keys",nodeType:"VariableDeclaration",scope:672,src:"356:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},typeName:{id:363,keyType:{id:361,name:"bytes32",nodeType:"ElementaryTypeName",src:"365:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"356:24:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},valueType:{contractScope:null,id:362,name:"Key",nodeType:"UserDefinedTypeName",referencedDeclaration:103,src:"376:3:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage_ptr",typeString:"struct ERC734.Key"}}},value:null,visibility:"internal"},{constant:!1,id:369,name:"keysByPurpose",nodeType:"VariableDeclaration",scope:672,src:"389:44:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},typeName:{id:368,keyType:{id:365,name:"uint256",nodeType:"ElementaryTypeName",src:"398:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Mapping",src:"389:30:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},valueType:{baseType:{id:366,name:"bytes32",nodeType:"ElementaryTypeName",src:"409:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:367,length:null,nodeType:"ArrayTypeName",src:"409:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}}},value:null,visibility:"internal"},{body:{id:418,nodeType:"Block",src:"494:325:3",statements:[{expression:{argumentTypes:null,id:378,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:376,name:"manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:358,src:"500:7:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:377,name:"_manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:373,src:"510:8:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"500:18:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:379,nodeType:"ExpressionStatement",src:"500:18:3"},{expression:{argumentTypes:null,id:384,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:380,name:"identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:360,src:"524:8:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:382,name:"_identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:371,src:"542:9:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:381,name:"ERC725",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:46,src:"535:6:3",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC725_$46_$",typeString:"type(contract ERC725)"}},id:383,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"535:17:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},src:"524:28:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:385,nodeType:"ExpressionStatement",src:"524:28:3"},{assignments:[387],declarations:[{constant:!1,id:387,name:"_key",nodeType:"VariableDeclaration",scope:418,src:"558:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:386,name:"bytes32",nodeType:"ElementaryTypeName",src:"558:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:394,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:391,name:"_manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:373,src:"600:8:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:389,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:761,src:"583:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:390,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"583:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:392,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"583:26:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:388,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"573:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:393,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"573:37:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"558:52:3"},{expression:{argumentTypes:null,id:403,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:395,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"616:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:397,indexExpression:{argumentTypes:null,id:396,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"621:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"616:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:399,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"650:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:400,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"681:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:401,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"704:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:null,id:398,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"629:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:402,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["purpose","keyType","key"],nodeType:"FunctionCall",src:"629:86:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"616:99:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:404,nodeType:"ExpressionStatement",src:"616:99:3"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:409,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"756:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:405,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"721:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:407,indexExpression:{argumentTypes:null,id:406,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"735:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"721:29:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:408,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"721:34:3",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) returns (uint256)"}},id:410,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"721:40:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:411,nodeType:"ExpressionStatement",src:"721:40:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:413,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:387,src:"781:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:414,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"787:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:415,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"803:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:412,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"772:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:416,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"772:42:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:417,nodeType:"EmitStatement",src:"767:47:3"}]},documentation:null,id:419,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:374,nodeType:"ParameterList",parameters:[{constant:!1,id:371,name:"_identity",nodeType:"VariableDeclaration",scope:419,src:"450:17:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:370,name:"address",nodeType:"ElementaryTypeName",src:"450:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:373,name:"_manager",nodeType:"VariableDeclaration",scope:419,src:"469:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:372,name:"address",nodeType:"ElementaryTypeName",src:"469:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"449:37:3"},returnParameters:{id:375,nodeType:"ParameterList",parameters:[],src:"494:0:3"},scope:672,src:"438:381:3",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:450,nodeType:"Block",src:"918:148:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:433,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:428,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"928:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:430,indexExpression:{argumentTypes:null,id:429,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:421,src:"933:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"928:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:431,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"928:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:432,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"946:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"928:19:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:436,nodeType:"IfStatement",src:"924:37:3",trueBody:{expression:{argumentTypes:null,hexValue:"66616c7365",id:434,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"956:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:427,id:435,nodeType:"Return",src:"949:12:3"}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:442,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:437,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"971:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:439,indexExpression:{argumentTypes:null,id:438,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:421,src:"976:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"971:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:440,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"971:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:441,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:423,src:"993:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"971:30:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:448,nodeType:"Block",src:"1035:27:3",statements:[{expression:{argumentTypes:null,hexValue:"66616c7365",id:446,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1050:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:427,id:447,nodeType:"Return",src:"1043:12:3"}]},id:449,nodeType:"IfStatement",src:"967:95:3",trueBody:{id:445,nodeType:"Block",src:"1003:26:3",statements:[{expression:{argumentTypes:null,hexValue:"74727565",id:443,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1018:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:427,id:444,nodeType:"Return",src:"1011:11:3"}]}}]},documentation:null,id:451,implemented:!0,kind:"function",modifiers:[],name:"keyHasPurpose",nodeType:"FunctionDefinition",parameters:{id:424,nodeType:"ParameterList",parameters:[{constant:!1,id:421,name:"_key",nodeType:"VariableDeclaration",scope:451,src:"846:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:420,name:"bytes32",nodeType:"ElementaryTypeName",src:"846:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:423,name:"_purpose",nodeType:"VariableDeclaration",scope:451,src:"860:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:422,name:"uint256",nodeType:"ElementaryTypeName",src:"860:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"845:32:3"},returnParameters:{id:427,nodeType:"ParameterList",parameters:[{constant:!1,id:426,name:"isExistent",nodeType:"VariableDeclaration",scope:451,src:"901:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:425,name:"bool",nodeType:"ElementaryTypeName",src:"901:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"900:17:3"},scope:672,src:"823:243:3",stateMutability:"view",superFunction:112,visibility:"external"},{body:{id:476,nodeType:"Block",src:"1171:74:3",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:462,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1185:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:464,indexExpression:{argumentTypes:null,id:463,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:453,src:"1190:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1185:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:465,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"1185:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:466,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1205:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:468,indexExpression:{argumentTypes:null,id:467,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:453,src:"1210:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1205:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:469,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"1205:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:470,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1225:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:472,indexExpression:{argumentTypes:null,id:471,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:453,src:"1230:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1225:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:473,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1225:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],id:474,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"1184:56:3",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$_t_bytes32_$",typeString:"tuple(uint256,uint256,bytes32)"}},functionReturnParameters:461,id:475,nodeType:"Return",src:"1177:63:3"}]},documentation:null,id:477,implemented:!0,kind:"function",modifiers:[],name:"getKey",nodeType:"FunctionDefinition",parameters:{id:454,nodeType:"ParameterList",parameters:[{constant:!1,id:453,name:"_key",nodeType:"VariableDeclaration",scope:477,src:"1087:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:452,name:"bytes32",nodeType:"ElementaryTypeName",src:"1087:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1086:14:3"},returnParameters:{id:461,nodeType:"ParameterList",parameters:[{constant:!1,id:456,name:"purpose",nodeType:"VariableDeclaration",scope:477,src:"1124:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:455,name:"uint256",nodeType:"ElementaryTypeName",src:"1124:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:458,name:"keyType",nodeType:"VariableDeclaration",scope:477,src:"1141:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:457,name:"uint256",nodeType:"ElementaryTypeName",src:"1141:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:460,name:"key",nodeType:"VariableDeclaration",scope:477,src:"1158:11:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:459,name:"bytes32",nodeType:"ElementaryTypeName",src:"1158:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1123:47:3"},scope:672,src:"1071:174:3",stateMutability:"view",superFunction:123,visibility:"external"},{body:{id:489,nodeType:"Block",src:"1341:41:3",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:485,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"1354:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:487,indexExpression:{argumentTypes:null,id:486,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:479,src:"1368:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1354:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},functionReturnParameters:484,id:488,nodeType:"Return",src:"1347:30:3"}]},documentation:null,id:490,implemented:!0,kind:"function",modifiers:[],name:"getKeysByPurpose",nodeType:"FunctionDefinition",parameters:{id:480,nodeType:"ParameterList",parameters:[{constant:!1,id:479,name:"_purpose",nodeType:"VariableDeclaration",scope:490,src:"1276:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:478,name:"uint256",nodeType:"ElementaryTypeName",src:"1276:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1275:18:3"},returnParameters:{id:484,nodeType:"ParameterList",parameters:[{constant:!1,id:483,name:"_keys",nodeType:"VariableDeclaration",scope:490,src:"1317:22:3",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:481,name:"bytes32",nodeType:"ElementaryTypeName",src:"1317:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:482,length:null,nodeType:"ArrayTypeName",src:"1317:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],src:"1316:24:3"},scope:672,src:"1250:132:3",stateMutability:"view",superFunction:131,visibility:"external"},{body:{id:552,nodeType:"Block",src:"1484:390:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:507,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:502,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1498:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:504,indexExpression:{argumentTypes:null,id:503,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1503:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1498:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:505,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1498:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,id:506,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1516:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1498:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4b657920616c7265616479206578697374732e",id:508,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1522:21:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'},value:"Key already exists."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'}],id:501,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"1490:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:509,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1490:54:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:510,nodeType:"ExpressionStatement",src:"1490:54:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:516,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:511,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"1554:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:512,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1554:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:514,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"1576:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}],id:513,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1568:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:515,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1568:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1554:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:533,nodeType:"IfStatement",src:"1550:158:3",trueBody:{id:532,nodeType:"Block",src:"1583:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:523,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"1645:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:524,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1645:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:521,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:761,src:"1628:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:522,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1628:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:525,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1628:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:520,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"1618:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:526,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1618:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:527,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1659:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:518,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"1599:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}},id:519,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:451,src:"1599:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:528,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1599:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f7365206e6f7420686176652061206d616e61676572206b65792e",id:529,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1663:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'},value:"Sender dose not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'}],id:517,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"1591:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:530,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1591:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:531,nodeType:"ExpressionStatement",src:"1591:110:3"}]}},{expression:{argumentTypes:null,id:542,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:534,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1714:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:536,indexExpression:{argumentTypes:null,id:535,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1719:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"1714:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:538,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1744:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:539,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:494,src:"1765:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:540,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:496,src:"1790:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:null,id:537,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"1727:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:541,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["key","purpose","keyType"],nodeType:"FunctionCall",src:"1727:78:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"1714:91:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:543,nodeType:"ExpressionStatement",src:"1714:91:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:545,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:492,src:"1826:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:546,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:494,src:"1832:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:547,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:496,src:"1842:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:544,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"1817:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:548,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1817:34:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:549,nodeType:"EmitStatement",src:"1812:39:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:550,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1865:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:500,id:551,nodeType:"Return",src:"1858:11:3"}]},documentation:null,id:553,implemented:!0,kind:"function",modifiers:[],name:"addKey",nodeType:"FunctionDefinition",parameters:{id:497,nodeType:"ParameterList",parameters:[{constant:!1,id:492,name:"_key",nodeType:"VariableDeclaration",scope:553,src:"1402:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:491,name:"bytes32",nodeType:"ElementaryTypeName",src:"1402:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:494,name:"_purpose",nodeType:"VariableDeclaration",scope:553,src:"1416:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:493,name:"uint256",nodeType:"ElementaryTypeName",src:"1416:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:496,name:"_keyType",nodeType:"VariableDeclaration",scope:553,src:"1434:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:495,name:"uint256",nodeType:"ElementaryTypeName",src:"1434:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1401:50:3"},returnParameters:{id:500,nodeType:"ParameterList",parameters:[{constant:!1,id:499,name:"success",nodeType:"VariableDeclaration",scope:553,src:"1470:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:498,name:"bool",nodeType:"ElementaryTypeName",src:"1470:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1469:14:3"},scope:672,src:"1386:488:3",stateMutability:"nonpayable",superFunction:142,visibility:"external"},{body:{id:670,nodeType:"Block",src:"1962:673:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:568,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:563,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"1976:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:565,indexExpression:{argumentTypes:null,id:564,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"1981:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1976:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:566,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1976:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:567,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"1994:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1976:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4e6f2073756368206b65792e",id:569,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2000:14:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'},value:"No such key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'}],id:562,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"1968:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:570,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1968:47:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:571,nodeType:"ExpressionStatement",src:"1968:47:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:577,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:572,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2025:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:573,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2025:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:575,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"2047:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}],id:574,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"2039:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:576,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2039:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2025:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:594,nodeType:"IfStatement",src:"2021:158:3",trueBody:{id:593,nodeType:"Block",src:"2054:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:584,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:774,src:"2116:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:585,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2116:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:582,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:761,src:"2099:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:583,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2099:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:586,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2099:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:581,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"2089:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:587,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2089:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:588,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2130:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:579,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:791,src:"2070:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$672",typeString:"contract KeyManager"}},id:580,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:451,src:"2070:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:589,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2070:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f6573206e6f7420686176652061206d616e61676572206b65792e",id:590,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2134:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'},value:"Sender does not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'}],id:578,name:"require",nodeType:"Identifier",overloadedDeclarations:[777,778],referencedDeclaration:778,src:"2062:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:591,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2062:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:592,nodeType:"ExpressionStatement",src:"2062:110:3"}]}},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:596,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2205:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:597,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"2211:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:598,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"2221:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:600,indexExpression:{argumentTypes:null,id:599,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2226:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2221:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:601,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"2221:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:595,name:"KeyRemoved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:64,src:"2194:10:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:602,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2194:46:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:603,nodeType:"EmitStatement",src:"2189:51:3"},{expression:{argumentTypes:null,id:607,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2247:17:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:604,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:364,src:"2254:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:606,indexExpression:{argumentTypes:null,id:605,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2259:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2254:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:608,nodeType:"ExpressionStatement",src:"2247:17:3"},{assignments:[612],declarations:[{constant:!1,id:612,name:"keysCache",nodeType:"VariableDeclaration",scope:670,src:"2271:27:3",stateVariable:!1,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:610,name:"bytes32",nodeType:"ElementaryTypeName",src:"2271:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:611,length:null,nodeType:"ArrayTypeName",src:"2271:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],id:616,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:613,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"2301:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:615,indexExpression:{argumentTypes:null,id:614,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"2315:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2301:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"2271:53:3"},{body:{id:660,nodeType:"Block",src:"2374:197:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:632,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:628,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2386:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:630,indexExpression:{argumentTypes:null,id:629,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2396:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2386:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:631,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:555,src:"2402:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2386:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:659,nodeType:"IfStatement",src:"2382:183:3",trueBody:{id:658,nodeType:"Block",src:"2408:157:3",statements:[{expression:{argumentTypes:null,id:642,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:633,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2418:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:635,indexExpression:{argumentTypes:null,id:634,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2428:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2418:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:636,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2433:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:641,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:640,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:637,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2443:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:638,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2443:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:639,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2462:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2443:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2433:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2418:46:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:643,nodeType:"ExpressionStatement",src:"2418:46:3"},{expression:{argumentTypes:null,id:650,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2474:38:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:644,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2481:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:649,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:648,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:645,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2491:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:646,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2491:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:647,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2510:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2491:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2481:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:651,nodeType:"ExpressionStatement",src:"2474:38:3"},{expression:{argumentTypes:null,id:655,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"2522:19:3",subExpression:{argumentTypes:null,expression:{argumentTypes:null,id:652,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2522:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:654,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2522:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:656,nodeType:"ExpressionStatement",src:"2522:19:3"},{id:657,nodeType:"Break",src:"2551:5:3"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:624,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:621,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2347:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:622,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2351:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:623,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2351:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2347:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:661,initializationExpression:{assignments:[618],declarations:[{constant:!1,id:618,name:"i",nodeType:"VariableDeclaration",scope:661,src:"2335:6:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:617,name:"uint",nodeType:"ElementaryTypeName",src:"2335:4:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:620,initialValue:{argumentTypes:null,hexValue:"30",id:619,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2344:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2335:10:3"},loopExpression:{expression:{argumentTypes:null,id:626,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"2369:3:3",subExpression:{argumentTypes:null,id:625,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:618,src:"2369:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:627,nodeType:"ExpressionStatement",src:"2369:3:3"},nodeType:"ForStatement",src:"2330:241:3"},{expression:{argumentTypes:null,id:666,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:662,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:369,src:"2576:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:664,indexExpression:{argumentTypes:null,id:663,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:557,src:"2590:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2576:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:665,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:612,src:"2602:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},src:"2576:35:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:667,nodeType:"ExpressionStatement",src:"2576:35:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:668,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"2626:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:561,id:669,nodeType:"Return",src:"2619:11:3"}]},documentation:null,id:671,implemented:!0,kind:"function",modifiers:[],name:"removeKey",nodeType:"FunctionDefinition",parameters:{id:558,nodeType:"ParameterList",parameters:[{constant:!1,id:555,name:"_key",nodeType:"VariableDeclaration",scope:671,src:"1898:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:554,name:"bytes32",nodeType:"ElementaryTypeName",src:"1898:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:557,name:"_purpose",nodeType:"VariableDeclaration",scope:671,src:"1912:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:556,name:"uint256",nodeType:"ElementaryTypeName",src:"1912:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1897:32:3"},returnParameters:{id:561,nodeType:"ParameterList",parameters:[{constant:!1,id:560,name:"success",nodeType:"VariableDeclaration",scope:671,src:"1948:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:559,name:"bool",nodeType:"ElementaryTypeName",src:"1948:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1947:14:3"},scope:672,src:"1879:756:3",stateMutability:"nonpayable",superFunction:151,visibility:"external"}],scope:673,src:"80:2558:3"}],src:"0:2639:3"},compiler:{name:"solc",version:"0.5.0+commit.1d4f565a.Emscripten.clang"},networks:{},schemaVersion:"3.0.2",updatedAt:"2019-04-13T07:31:17.248Z",devdoc:{methods:{}},userdoc:{methods:{}}}},function(e,t,n){"use strict";n.r(t);const i=async function({web3:e,abi:t,bytecode:n,args:i=[],from:r,gas:s=3e6}){if(!e)throw new Error("There is no web3 provider.");if(null===t||null===n||null===r)throw new Error("abi, bytecode or from should not be null.");const a=new e.eth.Contract(t);return await a.deploy({data:n,arguments:i}).send({from:r,gas:s}).catch(console.log)},r=async function({web3:e,abi:t,address:n}){if(!e)throw new Error("There is no web3 provider.");if(null===t||null===n)throw new Error("abi, bytecode or from should not be null.");return new e.eth.Contract(t,n)},s=function(e){if(""===e)throw new Error("Missing DID.");const t=e.match(/^did:([a-zA-Z0-9_]+):([[a-zA-Z0-9_.-]+)(\/[^#]*)?(#.*)?$/);if(t){const e={did:t[0],method:t[1],identifier:t[2]};return t[3]&&(e.path=t[3]),t[4]&&(e.fragment=t[4]),e}throw new Error(`Invalid DID: ${e}`)},a=function(e){return 1===e?"EcdsaVerificationKey2019":2===e?"RsaVerificationKey2019":void 0};var o=n(0),p=n(1);const f=o.abi,y=o.bytecode,d=p.abi;var l=class{constructor(e,t=null){this.web3=e,this.did=t,this.from=null,this.identity=null,this.keyManager=null,this.defaultGas=48e4}async init({from:e,gas:t}={}){if(this.did){const{identifier:e}=s(this.did);this.identity=await r({web3:this.web3,abi:f,address:e})}else this.identity=await i({web3:this.web3,abi:f,bytecode:y,args:[e],from:e,gas:t}),this.did=`did:erc725:${this.identity.options.address.slice(2)}`;const n=await this.identity.methods.owner().call();this.keyManager=await r({web3:this.web3,abi:d,address:n}),this.from=await this.keyManager.methods.manager().call()}async getDid(){return this.did}async resolve(){try{const e=await this.keyManager.methods.getKeysByPurpose(1).call(),t=(await Promise.all(e.map(async e=>this.keyManager.methods.getKey(e).call()))).map((e,t)=>({id:`${this.did}#owner-${t+1}`,type:a(e[1]),controller:this.did,publicKeyHex:e[2].slice(2)})),n={"@context":"https://w3id.org/did/v1",id:this.did,publicKey:t};return JSON.stringify(n)}catch(e){throw new Error(`Resolve failed. Message: ${e}`)}}async addKey(e,t,n){try{const i=(await this.keyManager.methods.addKey(e,t,n).send({from:this.from,gas:this.defaultGas})).events.KeyAdded.returnValues;return{key:i.key,purpose:i.purpose,keyType:i.keyType}}catch(e){throw new Error(`AddKey failed, Message: ${e}`)}}async removeKey(e,t){try{const n=(await this.keyManager.methods.removeKey(e,t).send({from:this.from,gas:this.defaultGas})).events.KeyRemoved.returnValues;return{key:n.key,purpose:n.purpose,keyType:n.keyType}}catch(e){throw new Error(`RemoveKey failed, Message: ${e}`)}}async revoke(){try{return await this.identity.methods.kill().send({from:this.from,gas:this.defaultGas}),!0}catch(e){throw new Error(`Revoke failed. Message: ${e}`)}}};t.default=class{constructor({web3:e}){if(!e)throw new Error("There is no web3 provider.");this.web3=e}async register({from:e,gas:t}){const n=new l(this.web3);return await n.init({from:e,gas:t}),n}async connect(e){const t=new l(this.web3,e);return await t.init(),t}}}])});
//# sourceMappingURL=erc725did.min.js.map