!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.erc725did=t():e.erc725did=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e){e.exports={contractName:"Identity",abi:[{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_owner",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"value",type:"bytes32"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"ownerAddress",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"contractAddress",type:"address"}],name:"ContractCreated",type:"event"},{constant:!1,inputs:[{name:"_owner",type:"address"}],name:"changeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getData",outputs:[{name:"_value",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_value",type:"bytes32"}],name:"setData",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_operationType",type:"uint256"},{name:"_to",type:"address"},{name:"_value",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"kill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b506040516020806116638339810180604052602081101561003057600080fd5b8101908080519060200190929190505050308161004b610116565b808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200192505050604051809103906000f0801580156100d0573d6000803e3d6000fd5b506000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610126565b604051610d108061095383390190565b61081e806101356000396000f3fe608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806341c0e1b51461007a57806344c028fe1461009157806354f6127f1461014b578063749ebfb81461019a5780638da5cb5b146101df578063a6f9dae114610236575b005b34801561008657600080fd5b5061008f610287565b005b34801561009d57600080fd5b50610149600480360360808110156100b457600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561010557600080fd5b82018360208201111561011757600080fd5b8035906020019184600183028401116401000000008311171561013957600080fd5b90919293919293905050506102f7565b005b34801561015757600080fd5b506101846004803603602081101561016e57600080fd5b810190808035906020019092919050505061050d565b6040518082815260200191505060405180910390f35b3480156101a657600080fd5b506101dd600480360360408110156101bd57600080fd5b81019080803590602001909291908035906020019092919050505061052a565b005b3480156101eb57600080fd5b506101f4610638565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561024257600080fd5b506102856004803603602081101561025957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061065d565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102f5573373ffffffffffffffffffffffffffffffffffffffff16ff5b565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b600085141561041957610413848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107c8565b50610506565b60018514156104bc57600061047183838080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107e0565b90508073ffffffffffffffffffffffffffffffffffffffff167fcf78cf0d6f3d8371e1075c69c492ab4ec5d8cf23a1a239b6a51a1d00be7ca31260405160405180910390a250610505565b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526000815260200160200191505060405180910390fd5b5b5050505050565b600060016000838152602001908152602001600020549050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b80600160008481526020019081526020016000208190555080827f35553580e4553c909abeb5764e842ce1f93c45f9f614bde2a2ca5f5b7b7dc0fb60405160405180910390a35050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610721576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf3660405160405180910390a250565b600080600083516020850186885af190509392505050565b60008151602083016000f0905091905056fea165627a7a72305820ec56efbb157ced283a241070e54967c54cbf835848cfe61b9099d77899a755d10029608060405234801561001057600080fd5b50604051604080610d108339810180604052604081101561003057600080fd5b810190808051906020019092919080519060200190929190505050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051602081830303815290604052805190602001209050606060405190810160405280600181526020016001815260200182815250600160008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050506002600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091505550600180827f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4505050610b4d806101c36000396000f3fe60806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806312aaac70146100725780631d381240146100cf57806353d413c5146101365780639010f72614610193578063d202158d14610223575b600080fd5b34801561007e57600080fd5b506100ab6004803603602081101561009557600080fd5b8101908080359060200190929190505050610280565b60405180848152602001838152602001828152602001935050505060405180910390f35b3480156100db57600080fd5b5061011c600480360360608110156100f257600080fd5b810190808035906020019092919080359060200190929190803590602001909291905050506102d7565b604051808215151515815260200191505060405180910390f35b34801561014257600080fd5b506101796004803603604081101561015957600080fd5b8101908080359060200190929190803590602001909291905050506105d3565b604051808215151515815260200191505060405180910390f35b34801561019f57600080fd5b506101cc600480360360208110156101b657600080fd5b81019080803590602001909291905050506109b5565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561020f5780820151818401526020810190506101f4565b505050509050019250505060405180910390f35b34801561022f57600080fd5b506102666004803603604081101561024657600080fd5b810190808035906020019092919080359060200190929190505050610a20565b604051808215151515815260200191505060405180910390f35b60008060006001600085815260200190815260200160002060000154600160008681526020019081526020016000206001015460016000878152602001908152602001600020600201549250925092509193909250565b600083600160008681526020019081526020016000206002015414151515610367576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4b657920616c7265616479206578697374732e0000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610549573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b15801561047357600080fd5b505afa158015610487573d6000803e3d6000fd5b505050506040513d602081101561049d57600080fd5b81019080805190602001909291905050501515610548576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f7365206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60606040519081016040528084815260200183815260200185815250600160008681526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050508183857f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b6000826001600085815260200190815260200160002060020154141515610662576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f4e6f2073756368206b65792e000000000000000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610844573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b15801561076e57600080fd5b505afa158015610782573d6000803e3d6000fd5b505050506040513d602081101561079857600080fd5b81019080805190602001909291905050501515610843576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60016000848152602001908152602001600020600080820160009055600182016000905560028201600090555050600060026000848152602001908152602001600020905060008090505b8180549050811015610941578482828154811015156108aa57fe5b90600052602060002001541415610934578160018380549050038154811015156108d057fe5b906000526020600020015482828154811015156108e957fe5b906000526020600020018190555081600183805490500381548110151561090c57fe5b90600052602060002001600090558180548091906001900361092e9190610a7e565b50610941565b808060010191505061088f565b508060026000858152602001908152602001600020908054610964929190610aaa565b50600160008581526020019081526020016000206001015483857f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a4600191505092915050565b606060026000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a1457602002820191906000526020600020905b815481526020019060010190808311610a00575b50505050509050919050565b60008060010260016000858152602001908152602001600020600201541415610a4c5760009050610a78565b8160016000858152602001908152602001600020600001541415610a735760019050610a78565b600090505b92915050565b815481835581811115610aa557818360005260206000209182019101610aa49190610afc565b5b505050565b828054828255906000526020600020908101928215610aeb5760005260206000209182015b82811115610aea578254825591600101919060010190610acf565b5b509050610af89190610afc565b5090565b610b1e91905b80821115610b1a576000816000905550600101610b02565b5090565b9056fea165627a7a7230582089060ff1c49e2a49aefcdba6190baed2047390cff63e081289ffc270385b88360029",deployedBytecode:"0x608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806341c0e1b51461007a57806344c028fe1461009157806354f6127f1461014b578063749ebfb81461019a5780638da5cb5b146101df578063a6f9dae114610236575b005b34801561008657600080fd5b5061008f610287565b005b34801561009d57600080fd5b50610149600480360360808110156100b457600080fd5b8101908080359060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035906020019064010000000081111561010557600080fd5b82018360208201111561011757600080fd5b8035906020019184600183028401116401000000008311171561013957600080fd5b90919293919293905050506102f7565b005b34801561015757600080fd5b506101846004803603602081101561016e57600080fd5b810190808035906020019092919050505061050d565b6040518082815260200191505060405180910390f35b3480156101a657600080fd5b506101dd600480360360408110156101bd57600080fd5b81019080803590602001909291908035906020019092919050505061052a565b005b3480156101eb57600080fd5b506101f4610638565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561024257600080fd5b506102856004803603602081101561025957600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919050505061065d565b005b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614156102f5573373ffffffffffffffffffffffffffffffffffffffff16ff5b565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156103bb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b600085141561041957610413848484848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107c8565b50610506565b60018514156104bc57600061047183838080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050506107e0565b90508073ffffffffffffffffffffffffffffffffffffffff167fcf78cf0d6f3d8371e1075c69c492ab4ec5d8cf23a1a239b6a51a1d00be7ca31260405160405180910390a250610505565b6040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401808060200182810382526000815260200160200191505060405180910390fd5b5b5050505050565b600060016000838152602001908152602001600020549050919050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b80600160008481526020019081526020016000208190555080827f35553580e4553c909abeb5764e842ce1f93c45f9f614bde2a2ca5f5b7b7dc0fb60405160405180910390a35050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610721576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260128152602001807f6f6e6c792d6f776e65722d616c6c6f776564000000000000000000000000000081525060200191505060405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff167fa2ea9883a321a3e97b8266c2b078bfeec6d50c711ed71f874a90d500ae2eaf3660405160405180910390a250565b600080600083516020850186885af190509392505050565b60008151602083016000f0905091905056fea165627a7a72305820ec56efbb157ced283a241070e54967c54cbf835848cfe61b9099d77899a755d10029",sourceMap:"84:2060:2:-;;;259:100;8:9:-1;5:2;;;30:1;27;20:12;5:2;259:100:2;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;259:100:2;;;;;;;;;;;;;;;;339:4;346:6;316:37;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;316:37:2;300:5;;:54;;;;;;;;;;;;;;;;;;259:100;84:2060;;;;;;;;;;;;:::o;:::-;;;;;;;",deployedSourceMap:"84:2060:2:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2059:83;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2059:83:2;;;;;;846:454;;8:9:-1;5:2;;;30:1;27;20:12;5:2;846:454:2;;;;;;13:3:-1;8;5:12;2:2;;;30:1;27;20:12;2:2;846:454:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;21:11:-1;8;5:28;2:2;;;46:1;43;36:12;2:2;846:454:2;;35:9:-1;28:4;12:14;8:25;5:40;2:2;;;58:1;55;48:12;2:2;846:454:2;;;;;;100:9:-1;95:1;81:12;77:20;67:8;63:35;60:50;39:11;25:12;22:29;11:107;8:2;;;131:1;128;121:12;8:2;846:454:2;;;;;;;;;;;;;;;606:99;;8:9:-1;5:2;;;30:1;27;20:12;5:2;606:99:2;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;606:99:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;709:133;;8:9:-1;5:2;;;30:1;27;20:12;5:2;709:133:2;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;709:133:2;;;;;;;;;;;;;;;;;;;;;;;;;;;;;197:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;197:20:2;;;;;;;;;;;;;;;;;;;;;;;;;;;491:111;;8:9:-1;5:2;;;30:1;27;20:12;5:2;491:111:2;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;491:111:2;;;;;;;;;;;;;;;;;;;;;;2059:83;2106:5;;;;;;;;;;;2092:19;;:10;:19;;;2088:49;;;2126:10;2113:24;;;2088:49;2059:83::o;846:454::-;412:5;;;;;;;;;;;398:19;;:10;:19;;;390:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;150:1;977:14;:32;973:323;;;1019:31;1031:3;1036:6;1044:5;;1019:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;1019:31:2;;;;;;:11;:31::i;:::-;;973:323;;;191:1;1067:14;:34;1063:233;;;1111:19;1133:20;1147:5;;1133:20;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;30:3:-1;22:6;14;1:33;99:1;93:3;85:6;81:16;74:27;137:4;133:9;126:4;121:3;117:14;113:30;106:37;;169:3;161:6;157:16;147:26;;1133:20:2;;;;;;:13;:20::i;:::-;1111:42;;1182:11;1166:28;;;;;;;;;;;;1063:233;;;;1279:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1063:233;973:323;846:454;;;;;:::o;606:99::-;660:14;689:5;:11;695:4;689:11;;;;;;;;;;;;682:18;;606:99;;;:::o;709:133::-;412:5;;;;;;;;;;;398:19;;:10;:19;;;390:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;795:6;781:5;:11;787:4;781:11;;;;;;;;;;;:20;;;;830:6;824:4;812:25;;;;;;;;;;709:133;;:::o;197:20::-;;;;;;;;;;;;;:::o;491:111::-;412:5;;;;;;;;;;;398:19;;:10;:19;;;390:50;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;561:6;553:5;;:14;;;;;;;;;;;;;;;;;;591:5;;;;;;;;;;;578:19;;;;;;;;;;;;491:111;:::o;1424:269::-;1517:12;1681:1;1678;1671:4;1665:11;1658:4;1652;1648:15;1641:5;1637:2;1632:3;1627:56;1616:67;;1608:81;;;;;:::o;1817:238::-;1885:19;2039:4;2033:11;2026:4;2020;2016:15;2013:1;2006:39;1991:54;;1983:68;;;:::o",source:'pragma solidity >=0.5.0 <0.6.0;\n\nimport "./ERC725.sol";\nimport "./KeyManager.sol";\n\ncontract Identity is ERC725 {\n  uint256 constant OPERATION_CALL = 0;\n  uint256 constant OPERATION_CREATE = 1;\n\n  address public owner;\n  mapping(bytes32 => bytes32) store;\n\n  constructor(address _owner) public {\n    owner = address(new KeyManager(address(this), _owner));\n  }\n\n  modifier onlyOwner() {\n    require(msg.sender == owner, "only-owner-allowed");\n    _;\n  }\n\n  function () external payable {}\n\n  function changeOwner(address _owner) external onlyOwner {\n    owner = _owner;\n    emit OwnerChanged(owner);\n  }\n\n  function getData(bytes32 _key) external view returns (bytes32 _value) {\n    return store[_key];\n  }\n\n  function setData(bytes32 _key, bytes32 _value) external onlyOwner {\n    store[_key] = _value;\n    emit DataChanged(_key, _value);\n  }\n\n  function execute(uint256 _operationType, address _to, uint256 _value, bytes calldata _data)\n    external\n    onlyOwner\n  {\n    if (_operationType == OPERATION_CALL) {\n      executeCall(_to, _value, _data);\n    } else if (_operationType == OPERATION_CREATE) {\n      address newContract = executeCreate(_data);\n      emit ContractCreated(newContract);\n    } else {\n      // We don\'t want to spend users gas if parametar is wrong\n      revert("");\n    }\n  }\n\n  // copied from GnosisSafe\n  // https://github.com/gnosis/safe-contracts/blob/v0.0.2-alpha/contracts/base/Executor.sol\n  function executeCall(address to, uint256 value, bytes memory data)\n    internal\n    returns (bool success)\n  {\n    // solium-disable-next-line security/no-inline-assembly\n    assembly {\n      success := call(gas, to, value, add(data, 0x20), mload(data), 0, 0)\n    }\n  }\n\n  // copied from GnosisSafe\n  // https://github.com/gnosis/safe-contracts/blob/v0.0.2-alpha/contracts/base/Executor.sol\n  function executeCreate(bytes memory data)\n    internal\n    returns (address newContract)\n  {\n    // solium-disable-next-line security/no-inline-assembly\n    assembly {\n      newContract := create(0, add(data, 0x20), mload(data))\n    }\n  }\n\n  function kill() public {\n    if (msg.sender == owner) selfdestruct(msg.sender);\n  }\n}\n',sourcePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/Identity.sol",ast:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/Identity.sol",exportedSymbols:{Identity:[335]},id:336,nodeType:"SourceUnit",nodes:[{id:154,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:2"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:155,nodeType:"ImportDirective",scope:336,sourceUnit:47,src:"33:22:2",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",file:"./KeyManager.sol",id:156,nodeType:"ImportDirective",scope:336,sourceUnit:667,src:"56:26:2",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:157,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"105:6:2",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:158,nodeType:"InheritanceSpecifier",src:"105:6:2"}],contractDependencies:[46,666],contractKind:"contract",documentation:null,fullyImplemented:!0,id:335,linearizedBaseContracts:[335,46],name:"Identity",nodeType:"ContractDefinition",nodes:[{constant:!0,id:161,name:"OPERATION_CALL",nodeType:"VariableDeclaration",scope:335,src:"116:35:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:159,name:"uint256",nodeType:"ElementaryTypeName",src:"116:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"30",id:160,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"150:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},visibility:"internal"},{constant:!0,id:164,name:"OPERATION_CREATE",nodeType:"VariableDeclaration",scope:335,src:"155:37:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:162,name:"uint256",nodeType:"ElementaryTypeName",src:"155:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:163,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"191:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!1,id:166,name:"owner",nodeType:"VariableDeclaration",scope:335,src:"197:20:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:165,name:"address",nodeType:"ElementaryTypeName",src:"197:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:170,name:"store",nodeType:"VariableDeclaration",scope:335,src:"221:33:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},typeName:{id:169,keyType:{id:167,name:"bytes32",nodeType:"ElementaryTypeName",src:"229:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"221:27:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},valueType:{id:168,name:"bytes32",nodeType:"ElementaryTypeName",src:"240:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}},value:null,visibility:"internal"},{body:{id:187,nodeType:"Block",src:"294:65:2",statements:[{expression:{argumentTypes:null,id:185,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:175,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"300:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:180,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:787,src:"339:4:2",typeDescriptions:{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}],id:179,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"331:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:181,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"331:13:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:182,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:172,src:"346:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"}],id:178,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"NewExpression",src:"316:14:2",typeDescriptions:{typeIdentifier:"t_function_creation_nonpayable$_t_address_$_t_address_$returns$_t_contract$_KeyManager_$666_$",typeString:"function (address,address) returns (contract KeyManager)"},typeName:{contractScope:null,id:177,name:"KeyManager",nodeType:"UserDefinedTypeName",referencedDeclaration:666,src:"320:10:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$666",typeString:"contract KeyManager"}}},id:183,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"316:37:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$666",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$666",typeString:"contract KeyManager"}],id:176,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"308:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:184,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"308:46:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"300:54:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:186,nodeType:"ExpressionStatement",src:"300:54:2"}]},documentation:null,id:188,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:173,nodeType:"ParameterList",parameters:[{constant:!1,id:172,name:"_owner",nodeType:"VariableDeclaration",scope:188,src:"271:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:171,name:"address",nodeType:"ElementaryTypeName",src:"271:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"270:16:2"},returnParameters:{id:174,nodeType:"ParameterList",parameters:[],src:"294:0:2"},scope:335,src:"259:100:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:199,nodeType:"Block",src:"384:68:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:194,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:191,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"398:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:192,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"398:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:193,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"412:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"398:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"6f6e6c792d6f776e65722d616c6c6f776564",id:195,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"419:20:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'},value:"only-owner-allowed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'}],id:190,name:"require",nodeType:"Identifier",overloadedDeclarations:[771,772],referencedDeclaration:772,src:"390:7:2",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:196,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"390:50:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:197,nodeType:"ExpressionStatement",src:"390:50:2"},{id:198,nodeType:"PlaceholderStatement",src:"446:1:2"}]},documentation:null,id:200,name:"onlyOwner",nodeType:"ModifierDefinition",parameters:{id:189,nodeType:"ParameterList",parameters:[],src:"381:2:2"},src:"363:89:2",visibility:"internal"},{body:{id:203,nodeType:"Block",src:"485:2:2",statements:[]},documentation:null,id:204,implemented:!0,kind:"fallback",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:201,nodeType:"ParameterList",parameters:[],src:"465:2:2"},returnParameters:{id:202,nodeType:"ParameterList",parameters:[],src:"485:0:2"},scope:335,src:"456:31:2",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:219,nodeType:"Block",src:"547:55:2",statements:[{expression:{argumentTypes:null,id:213,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:211,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"553:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:212,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:206,src:"561:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"553:14:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:214,nodeType:"ExpressionStatement",src:"553:14:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:216,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"591:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:215,name:"OwnerChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"578:12:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:217,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"578:19:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:218,nodeType:"EmitStatement",src:"573:24:2"}]},documentation:null,id:220,implemented:!0,kind:"function",modifiers:[{arguments:null,id:209,modifierName:{argumentTypes:null,id:208,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"537:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"537:9:2"}],name:"changeOwner",nodeType:"FunctionDefinition",parameters:{id:207,nodeType:"ParameterList",parameters:[{constant:!1,id:206,name:"_owner",nodeType:"VariableDeclaration",scope:220,src:"512:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:205,name:"address",nodeType:"ElementaryTypeName",src:"512:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"511:16:2"},returnParameters:{id:210,nodeType:"ParameterList",parameters:[],src:"547:0:2"},scope:335,src:"491:111:2",stateMutability:"nonpayable",superFunction:20,visibility:"external"},{body:{id:231,nodeType:"Block",src:"676:29:2",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:227,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"689:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:229,indexExpression:{argumentTypes:null,id:228,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:222,src:"695:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"689:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:226,id:230,nodeType:"Return",src:"682:18:2"}]},documentation:null,id:232,implemented:!0,kind:"function",modifiers:[],name:"getData",nodeType:"FunctionDefinition",parameters:{id:223,nodeType:"ParameterList",parameters:[{constant:!1,id:222,name:"_key",nodeType:"VariableDeclaration",scope:232,src:"623:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:221,name:"bytes32",nodeType:"ElementaryTypeName",src:"623:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"622:14:2"},returnParameters:{id:226,nodeType:"ParameterList",parameters:[{constant:!1,id:225,name:"_value",nodeType:"VariableDeclaration",scope:232,src:"660:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:224,name:"bytes32",nodeType:"ElementaryTypeName",src:"660:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"659:16:2"},scope:335,src:"606:99:2",stateMutability:"view",superFunction:27,visibility:"external"},{body:{id:252,nodeType:"Block",src:"775:67:2",statements:[{expression:{argumentTypes:null,id:245,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:241,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"781:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:243,indexExpression:{argumentTypes:null,id:242,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"787:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"781:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:244,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"795:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"781:20:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:246,nodeType:"ExpressionStatement",src:"781:20:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:248,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"824:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:249,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"830:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:247,name:"DataChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"812:11:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$",typeString:"function (bytes32,bytes32)"}},id:250,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"812:25:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:251,nodeType:"EmitStatement",src:"807:30:2"}]},documentation:null,id:253,implemented:!0,kind:"function",modifiers:[{arguments:null,id:239,modifierName:{argumentTypes:null,id:238,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"765:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"765:9:2"}],name:"setData",nodeType:"FunctionDefinition",parameters:{id:237,nodeType:"ParameterList",parameters:[{constant:!1,id:234,name:"_key",nodeType:"VariableDeclaration",scope:253,src:"726:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:233,name:"bytes32",nodeType:"ElementaryTypeName",src:"726:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:236,name:"_value",nodeType:"VariableDeclaration",scope:253,src:"740:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:235,name:"bytes32",nodeType:"ElementaryTypeName",src:"740:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"725:30:2"},returnParameters:{id:240,nodeType:"ParameterList",parameters:[],src:"775:0:2"},scope:335,src:"709:133:2",stateMutability:"nonpayable",superFunction:34,visibility:"external"},{body:{id:297,nodeType:"Block",src:"967:333:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:268,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:266,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"977:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:267,name:"OPERATION_CALL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:161,src:"995:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"977:32:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:278,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:276,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"1067:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:277,name:"OPERATION_CREATE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:164,src:"1085:16:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1067:34:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:294,nodeType:"Block",src:"1207:89:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"",id:291,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1286:2:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],id:290,name:"revert",nodeType:"Identifier",overloadedDeclarations:[773,774],referencedDeclaration:774,src:"1279:6:2",typeDescriptions:{typeIdentifier:"t_function_revert_pure$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory) pure"}},id:292,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1279:10:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:293,nodeType:"ExpressionStatement",src:"1279:10:2"}]},id:295,nodeType:"IfStatement",src:"1063:233:2",trueBody:{id:289,nodeType:"Block",src:"1103:98:2",statements:[{assignments:[280],declarations:[{constant:!1,id:280,name:"newContract",nodeType:"VariableDeclaration",scope:289,src:"1111:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:279,name:"address",nodeType:"ElementaryTypeName",src:"1111:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:284,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:282,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1147:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:281,name:"executeCreate",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:320,src:"1133:13:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_bytes_memory_ptr_$returns$_t_address_$",typeString:"function (bytes memory) returns (address)"}},id:283,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1133:20:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"1111:42:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:286,name:"newContract",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:280,src:"1182:11:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:285,name:"ContractCreated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:15,src:"1166:15:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:287,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1166:28:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:288,nodeType:"EmitStatement",src:"1161:33:2"}]}},id:296,nodeType:"IfStatement",src:"973:323:2",trueBody:{id:275,nodeType:"Block",src:"1011:46:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:270,name:"_to",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:257,src:"1031:3:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:271,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:259,src:"1036:6:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:272,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1044:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:269,name:"executeCall",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:311,src:"1019:11:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$",typeString:"function (address,uint256,bytes memory) returns (bool)"}},id:273,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1019:31:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:274,nodeType:"ExpressionStatement",src:"1019:31:2"}]}}]},documentation:null,id:298,implemented:!0,kind:"function",modifiers:[{arguments:null,id:264,modifierName:{argumentTypes:null,id:263,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"955:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"955:9:2"}],name:"execute",nodeType:"FunctionDefinition",parameters:{id:262,nodeType:"ParameterList",parameters:[{constant:!1,id:255,name:"_operationType",nodeType:"VariableDeclaration",scope:298,src:"863:22:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:254,name:"uint256",nodeType:"ElementaryTypeName",src:"863:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:257,name:"_to",nodeType:"VariableDeclaration",scope:298,src:"887:11:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:256,name:"address",nodeType:"ElementaryTypeName",src:"887:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:259,name:"_value",nodeType:"VariableDeclaration",scope:298,src:"900:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:258,name:"uint256",nodeType:"ElementaryTypeName",src:"900:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:261,name:"_data",nodeType:"VariableDeclaration",scope:298,src:"916:20:2",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:260,name:"bytes",nodeType:"ElementaryTypeName",src:"916:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"862:75:2"},returnParameters:{id:265,nodeType:"ParameterList",parameters:[],src:"967:0:2"},scope:335,src:"846:454:2",stateMutability:"nonpayable",superFunction:45,visibility:"external"},{body:{id:310,nodeType:"Block",src:"1533:160:2",statements:[{externalReferences:[{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1671:4:2",valueSize:1}},{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1652:4:2",valueSize:1}},{success:{declaration:307,isOffset:!1,isSlot:!1,src:"1616:7:2",valueSize:1}},{to:{declaration:300,isOffset:!1,isSlot:!1,src:"1637:2:2",valueSize:1}},{value:{declaration:302,isOffset:!1,isSlot:!1,src:"1641:5:2",valueSize:1}}],id:309,nodeType:"InlineAssembly",operations:"{\n    success := call(gas(), to, value, add(data, 0x20), mload(data), 0, 0)\n}",src:"1599:94:2"}]},documentation:null,id:311,implemented:!0,kind:"function",modifiers:[],name:"executeCall",nodeType:"FunctionDefinition",parameters:{id:305,nodeType:"ParameterList",parameters:[{constant:!1,id:300,name:"to",nodeType:"VariableDeclaration",scope:311,src:"1445:10:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:299,name:"address",nodeType:"ElementaryTypeName",src:"1445:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:302,name:"value",nodeType:"VariableDeclaration",scope:311,src:"1457:13:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:301,name:"uint256",nodeType:"ElementaryTypeName",src:"1457:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:304,name:"data",nodeType:"VariableDeclaration",scope:311,src:"1472:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:303,name:"bytes",nodeType:"ElementaryTypeName",src:"1472:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1444:46:2"},returnParameters:{id:308,nodeType:"ParameterList",parameters:[{constant:!1,id:307,name:"success",nodeType:"VariableDeclaration",scope:311,src:"1517:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:306,name:"bool",nodeType:"ElementaryTypeName",src:"1517:4:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1516:14:2"},scope:335,src:"1424:269:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:319,nodeType:"Block",src:"1908:147:2",statements:[{externalReferences:[{newContract:{declaration:316,isOffset:!1,isSlot:!1,src:"1991:11:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2020:4:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2039:4:2",valueSize:1}}],id:318,nodeType:"InlineAssembly",operations:"{\n    newContract := create(0, add(data, 0x20), mload(data))\n}",src:"1974:81:2"}]},documentation:null,id:320,implemented:!0,kind:"function",modifiers:[],name:"executeCreate",nodeType:"FunctionDefinition",parameters:{id:314,nodeType:"ParameterList",parameters:[{constant:!1,id:313,name:"data",nodeType:"VariableDeclaration",scope:320,src:"1840:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:312,name:"bytes",nodeType:"ElementaryTypeName",src:"1840:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1839:19:2"},returnParameters:{id:317,nodeType:"ParameterList",parameters:[{constant:!1,id:316,name:"newContract",nodeType:"VariableDeclaration",scope:320,src:"1885:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:315,name:"address",nodeType:"ElementaryTypeName",src:"1885:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"1884:21:2"},scope:335,src:"1817:238:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:333,nodeType:"Block",src:"2082:60:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:326,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:323,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"2092:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:324,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2092:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:325,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"2106:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2092:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:332,nodeType:"IfStatement",src:"2088:49:2",trueBody:{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:328,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"2126:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:329,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2126:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:327,name:"selfdestruct",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:776,src:"2113:12:2",typeDescriptions:{typeIdentifier:"t_function_selfdestruct_nonpayable$_t_address_payable_$returns$__$",typeString:"function (address payable)"}},id:330,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2113:24:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:331,nodeType:"ExpressionStatement",src:"2113:24:2"}}]},documentation:null,id:334,implemented:!0,kind:"function",modifiers:[],name:"kill",nodeType:"FunctionDefinition",parameters:{id:321,nodeType:"ParameterList",parameters:[],src:"2072:2:2"},returnParameters:{id:322,nodeType:"ParameterList",parameters:[],src:"2082:0:2"},scope:335,src:"2059:83:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:336,src:"84:2060:2"}],src:"0:2145:2"},legacyAST:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/Identity.sol",exportedSymbols:{Identity:[335]},id:336,nodeType:"SourceUnit",nodes:[{id:154,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:2"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:155,nodeType:"ImportDirective",scope:336,sourceUnit:47,src:"33:22:2",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",file:"./KeyManager.sol",id:156,nodeType:"ImportDirective",scope:336,sourceUnit:667,src:"56:26:2",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:157,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"105:6:2",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:158,nodeType:"InheritanceSpecifier",src:"105:6:2"}],contractDependencies:[46,666],contractKind:"contract",documentation:null,fullyImplemented:!0,id:335,linearizedBaseContracts:[335,46],name:"Identity",nodeType:"ContractDefinition",nodes:[{constant:!0,id:161,name:"OPERATION_CALL",nodeType:"VariableDeclaration",scope:335,src:"116:35:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:159,name:"uint256",nodeType:"ElementaryTypeName",src:"116:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"30",id:160,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"150:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},visibility:"internal"},{constant:!0,id:164,name:"OPERATION_CREATE",nodeType:"VariableDeclaration",scope:335,src:"155:37:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:162,name:"uint256",nodeType:"ElementaryTypeName",src:"155:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:163,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"191:1:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!1,id:166,name:"owner",nodeType:"VariableDeclaration",scope:335,src:"197:20:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:165,name:"address",nodeType:"ElementaryTypeName",src:"197:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"public"},{constant:!1,id:170,name:"store",nodeType:"VariableDeclaration",scope:335,src:"221:33:2",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},typeName:{id:169,keyType:{id:167,name:"bytes32",nodeType:"ElementaryTypeName",src:"229:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"221:27:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"},valueType:{id:168,name:"bytes32",nodeType:"ElementaryTypeName",src:"240:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}},value:null,visibility:"internal"},{body:{id:187,nodeType:"Block",src:"294:65:2",statements:[{expression:{argumentTypes:null,id:185,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:175,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"300:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:180,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:787,src:"339:4:2",typeDescriptions:{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_Identity_$335",typeString:"contract Identity"}],id:179,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"331:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:181,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"331:13:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},{argumentTypes:null,id:182,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:172,src:"346:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"},{typeIdentifier:"t_address",typeString:"address"}],id:178,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"NewExpression",src:"316:14:2",typeDescriptions:{typeIdentifier:"t_function_creation_nonpayable$_t_address_$_t_address_$returns$_t_contract$_KeyManager_$666_$",typeString:"function (address,address) returns (contract KeyManager)"},typeName:{contractScope:null,id:177,name:"KeyManager",nodeType:"UserDefinedTypeName",referencedDeclaration:666,src:"320:10:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$666",typeString:"contract KeyManager"}}},id:183,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"316:37:2",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$666",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$666",typeString:"contract KeyManager"}],id:176,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"308:7:2",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:184,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"308:46:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"300:54:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:186,nodeType:"ExpressionStatement",src:"300:54:2"}]},documentation:null,id:188,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:173,nodeType:"ParameterList",parameters:[{constant:!1,id:172,name:"_owner",nodeType:"VariableDeclaration",scope:188,src:"271:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:171,name:"address",nodeType:"ElementaryTypeName",src:"271:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"270:16:2"},returnParameters:{id:174,nodeType:"ParameterList",parameters:[],src:"294:0:2"},scope:335,src:"259:100:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:199,nodeType:"Block",src:"384:68:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:194,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:191,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"398:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:192,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"398:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:193,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"412:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"398:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"6f6e6c792d6f776e65722d616c6c6f776564",id:195,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"419:20:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'},value:"only-owner-allowed"}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_f4418946dcb2f688a27905b6eb6506155d0f4e543a635fd25a46669e7e1a55d5",typeString:'literal_string "only-owner-allowed"'}],id:190,name:"require",nodeType:"Identifier",overloadedDeclarations:[771,772],referencedDeclaration:772,src:"390:7:2",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:196,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"390:50:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:197,nodeType:"ExpressionStatement",src:"390:50:2"},{id:198,nodeType:"PlaceholderStatement",src:"446:1:2"}]},documentation:null,id:200,name:"onlyOwner",nodeType:"ModifierDefinition",parameters:{id:189,nodeType:"ParameterList",parameters:[],src:"381:2:2"},src:"363:89:2",visibility:"internal"},{body:{id:203,nodeType:"Block",src:"485:2:2",statements:[]},documentation:null,id:204,implemented:!0,kind:"fallback",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:201,nodeType:"ParameterList",parameters:[],src:"465:2:2"},returnParameters:{id:202,nodeType:"ParameterList",parameters:[],src:"485:0:2"},scope:335,src:"456:31:2",stateMutability:"payable",superFunction:null,visibility:"external"},{body:{id:219,nodeType:"Block",src:"547:55:2",statements:[{expression:{argumentTypes:null,id:213,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:211,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"553:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:212,name:"_owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:206,src:"561:6:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"553:14:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},id:214,nodeType:"ExpressionStatement",src:"553:14:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:216,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"591:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:215,name:"OwnerChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:11,src:"578:12:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:217,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"578:19:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:218,nodeType:"EmitStatement",src:"573:24:2"}]},documentation:null,id:220,implemented:!0,kind:"function",modifiers:[{arguments:null,id:209,modifierName:{argumentTypes:null,id:208,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"537:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"537:9:2"}],name:"changeOwner",nodeType:"FunctionDefinition",parameters:{id:207,nodeType:"ParameterList",parameters:[{constant:!1,id:206,name:"_owner",nodeType:"VariableDeclaration",scope:220,src:"512:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:205,name:"address",nodeType:"ElementaryTypeName",src:"512:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"511:16:2"},returnParameters:{id:210,nodeType:"ParameterList",parameters:[],src:"547:0:2"},scope:335,src:"491:111:2",stateMutability:"nonpayable",superFunction:20,visibility:"external"},{body:{id:231,nodeType:"Block",src:"676:29:2",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:227,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"689:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:229,indexExpression:{argumentTypes:null,id:228,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:222,src:"695:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"689:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},functionReturnParameters:226,id:230,nodeType:"Return",src:"682:18:2"}]},documentation:null,id:232,implemented:!0,kind:"function",modifiers:[],name:"getData",nodeType:"FunctionDefinition",parameters:{id:223,nodeType:"ParameterList",parameters:[{constant:!1,id:222,name:"_key",nodeType:"VariableDeclaration",scope:232,src:"623:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:221,name:"bytes32",nodeType:"ElementaryTypeName",src:"623:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"622:14:2"},returnParameters:{id:226,nodeType:"ParameterList",parameters:[{constant:!1,id:225,name:"_value",nodeType:"VariableDeclaration",scope:232,src:"660:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:224,name:"bytes32",nodeType:"ElementaryTypeName",src:"660:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"659:16:2"},scope:335,src:"606:99:2",stateMutability:"view",superFunction:27,visibility:"external"},{body:{id:252,nodeType:"Block",src:"775:67:2",statements:[{expression:{argumentTypes:null,id:245,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:241,name:"store",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:170,src:"781:5:2",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_bytes32_$",typeString:"mapping(bytes32 => bytes32)"}},id:243,indexExpression:{argumentTypes:null,id:242,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"787:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"781:11:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:244,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"795:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"781:20:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:246,nodeType:"ExpressionStatement",src:"781:20:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:248,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:234,src:"824:4:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:249,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:236,src:"830:6:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_bytes32",typeString:"bytes32"}],id:247,name:"DataChanged",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:7,src:"812:11:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_bytes32_$returns$__$",typeString:"function (bytes32,bytes32)"}},id:250,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"812:25:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:251,nodeType:"EmitStatement",src:"807:30:2"}]},documentation:null,id:253,implemented:!0,kind:"function",modifiers:[{arguments:null,id:239,modifierName:{argumentTypes:null,id:238,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"765:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"765:9:2"}],name:"setData",nodeType:"FunctionDefinition",parameters:{id:237,nodeType:"ParameterList",parameters:[{constant:!1,id:234,name:"_key",nodeType:"VariableDeclaration",scope:253,src:"726:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:233,name:"bytes32",nodeType:"ElementaryTypeName",src:"726:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:236,name:"_value",nodeType:"VariableDeclaration",scope:253,src:"740:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:235,name:"bytes32",nodeType:"ElementaryTypeName",src:"740:7:2",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"725:30:2"},returnParameters:{id:240,nodeType:"ParameterList",parameters:[],src:"775:0:2"},scope:335,src:"709:133:2",stateMutability:"nonpayable",superFunction:34,visibility:"external"},{body:{id:297,nodeType:"Block",src:"967:333:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:268,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:266,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"977:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:267,name:"OPERATION_CALL",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:161,src:"995:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"977:32:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:278,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:276,name:"_operationType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:255,src:"1067:14:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:277,name:"OPERATION_CREATE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:164,src:"1085:16:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"1067:34:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:294,nodeType:"Block",src:"1207:89:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,hexValue:"",id:291,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1286:2:2",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'},value:""}],expression:{argumentTypes:[{typeIdentifier:"t_stringliteral_c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",typeString:'literal_string ""'}],id:290,name:"revert",nodeType:"Identifier",overloadedDeclarations:[773,774],referencedDeclaration:774,src:"1279:6:2",typeDescriptions:{typeIdentifier:"t_function_revert_pure$_t_string_memory_ptr_$returns$__$",typeString:"function (string memory) pure"}},id:292,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1279:10:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:293,nodeType:"ExpressionStatement",src:"1279:10:2"}]},id:295,nodeType:"IfStatement",src:"1063:233:2",trueBody:{id:289,nodeType:"Block",src:"1103:98:2",statements:[{assignments:[280],declarations:[{constant:!1,id:280,name:"newContract",nodeType:"VariableDeclaration",scope:289,src:"1111:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:279,name:"address",nodeType:"ElementaryTypeName",src:"1111:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],id:284,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,id:282,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1147:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:281,name:"executeCreate",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:320,src:"1133:13:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_bytes_memory_ptr_$returns$_t_address_$",typeString:"function (bytes memory) returns (address)"}},id:283,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1133:20:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},nodeType:"VariableDeclarationStatement",src:"1111:42:2"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:286,name:"newContract",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:280,src:"1182:11:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:285,name:"ContractCreated",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:15,src:"1166:15:2",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_address_$returns$__$",typeString:"function (address)"}},id:287,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1166:28:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:288,nodeType:"EmitStatement",src:"1161:33:2"}]}},id:296,nodeType:"IfStatement",src:"973:323:2",trueBody:{id:275,nodeType:"Block",src:"1011:46:2",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:270,name:"_to",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:257,src:"1031:3:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},{argumentTypes:null,id:271,name:"_value",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:259,src:"1036:6:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:272,name:"_data",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:261,src:"1044:5:2",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes calldata"}],id:269,name:"executeCall",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:311,src:"1019:11:2",typeDescriptions:{typeIdentifier:"t_function_internal_nonpayable$_t_address_$_t_uint256_$_t_bytes_memory_ptr_$returns$_t_bool_$",typeString:"function (address,uint256,bytes memory) returns (bool)"}},id:273,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1019:31:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:274,nodeType:"ExpressionStatement",src:"1019:31:2"}]}}]},documentation:null,id:298,implemented:!0,kind:"function",modifiers:[{arguments:null,id:264,modifierName:{argumentTypes:null,id:263,name:"onlyOwner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:200,src:"955:9:2",typeDescriptions:{typeIdentifier:"t_modifier$__$",typeString:"modifier ()"}},nodeType:"ModifierInvocation",src:"955:9:2"}],name:"execute",nodeType:"FunctionDefinition",parameters:{id:262,nodeType:"ParameterList",parameters:[{constant:!1,id:255,name:"_operationType",nodeType:"VariableDeclaration",scope:298,src:"863:22:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:254,name:"uint256",nodeType:"ElementaryTypeName",src:"863:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:257,name:"_to",nodeType:"VariableDeclaration",scope:298,src:"887:11:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:256,name:"address",nodeType:"ElementaryTypeName",src:"887:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:259,name:"_value",nodeType:"VariableDeclaration",scope:298,src:"900:14:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:258,name:"uint256",nodeType:"ElementaryTypeName",src:"900:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:261,name:"_data",nodeType:"VariableDeclaration",scope:298,src:"916:20:2",stateVariable:!1,storageLocation:"calldata",typeDescriptions:{typeIdentifier:"t_bytes_calldata_ptr",typeString:"bytes"},typeName:{id:260,name:"bytes",nodeType:"ElementaryTypeName",src:"916:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"862:75:2"},returnParameters:{id:265,nodeType:"ParameterList",parameters:[],src:"967:0:2"},scope:335,src:"846:454:2",stateMutability:"nonpayable",superFunction:45,visibility:"external"},{body:{id:310,nodeType:"Block",src:"1533:160:2",statements:[{externalReferences:[{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1671:4:2",valueSize:1}},{data:{declaration:304,isOffset:!1,isSlot:!1,src:"1652:4:2",valueSize:1}},{success:{declaration:307,isOffset:!1,isSlot:!1,src:"1616:7:2",valueSize:1}},{to:{declaration:300,isOffset:!1,isSlot:!1,src:"1637:2:2",valueSize:1}},{value:{declaration:302,isOffset:!1,isSlot:!1,src:"1641:5:2",valueSize:1}}],id:309,nodeType:"InlineAssembly",operations:"{\n    success := call(gas(), to, value, add(data, 0x20), mload(data), 0, 0)\n}",src:"1599:94:2"}]},documentation:null,id:311,implemented:!0,kind:"function",modifiers:[],name:"executeCall",nodeType:"FunctionDefinition",parameters:{id:305,nodeType:"ParameterList",parameters:[{constant:!1,id:300,name:"to",nodeType:"VariableDeclaration",scope:311,src:"1445:10:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:299,name:"address",nodeType:"ElementaryTypeName",src:"1445:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:302,name:"value",nodeType:"VariableDeclaration",scope:311,src:"1457:13:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:301,name:"uint256",nodeType:"ElementaryTypeName",src:"1457:7:2",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:304,name:"data",nodeType:"VariableDeclaration",scope:311,src:"1472:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:303,name:"bytes",nodeType:"ElementaryTypeName",src:"1472:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1444:46:2"},returnParameters:{id:308,nodeType:"ParameterList",parameters:[{constant:!1,id:307,name:"success",nodeType:"VariableDeclaration",scope:311,src:"1517:12:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:306,name:"bool",nodeType:"ElementaryTypeName",src:"1517:4:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1516:14:2"},scope:335,src:"1424:269:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:319,nodeType:"Block",src:"1908:147:2",statements:[{externalReferences:[{newContract:{declaration:316,isOffset:!1,isSlot:!1,src:"1991:11:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2020:4:2",valueSize:1}},{data:{declaration:313,isOffset:!1,isSlot:!1,src:"2039:4:2",valueSize:1}}],id:318,nodeType:"InlineAssembly",operations:"{\n    newContract := create(0, add(data, 0x20), mload(data))\n}",src:"1974:81:2"}]},documentation:null,id:320,implemented:!0,kind:"function",modifiers:[],name:"executeCreate",nodeType:"FunctionDefinition",parameters:{id:314,nodeType:"ParameterList",parameters:[{constant:!1,id:313,name:"data",nodeType:"VariableDeclaration",scope:320,src:"1840:17:2",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes"},typeName:{id:312,name:"bytes",nodeType:"ElementaryTypeName",src:"1840:5:2",typeDescriptions:{typeIdentifier:"t_bytes_storage_ptr",typeString:"bytes"}},value:null,visibility:"internal"}],src:"1839:19:2"},returnParameters:{id:317,nodeType:"ParameterList",parameters:[{constant:!1,id:316,name:"newContract",nodeType:"VariableDeclaration",scope:320,src:"1885:19:2",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:315,name:"address",nodeType:"ElementaryTypeName",src:"1885:7:2",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"1884:21:2"},scope:335,src:"1817:238:2",stateMutability:"nonpayable",superFunction:null,visibility:"internal"},{body:{id:333,nodeType:"Block",src:"2082:60:2",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:326,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:323,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"2092:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:324,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2092:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:325,name:"owner",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:166,src:"2106:5:2",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"2092:19:2",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:332,nodeType:"IfStatement",src:"2088:49:2",trueBody:{expression:{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:328,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:768,src:"2126:3:2",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:329,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2126:10:2",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],id:327,name:"selfdestruct",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:776,src:"2113:12:2",typeDescriptions:{typeIdentifier:"t_function_selfdestruct_nonpayable$_t_address_payable_$returns$__$",typeString:"function (address payable)"}},id:330,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2113:24:2",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:331,nodeType:"ExpressionStatement",src:"2113:24:2"}}]},documentation:null,id:334,implemented:!0,kind:"function",modifiers:[],name:"kill",nodeType:"FunctionDefinition",parameters:{id:321,nodeType:"ParameterList",parameters:[],src:"2072:2:2"},returnParameters:{id:322,nodeType:"ParameterList",parameters:[],src:"2082:0:2"},scope:335,src:"2059:83:2",stateMutability:"nonpayable",superFunction:null,visibility:"public"}],scope:336,src:"84:2060:2"}],src:"0:2145:2"},compiler:{name:"solc",version:"0.5.0+commit.1d4f565a.Emscripten.clang"},networks:{},schemaVersion:"3.0.2",updatedAt:"2019-04-03T08:28:02.133Z",devdoc:{methods:{}},userdoc:{methods:{}}}},function(e){e.exports={contractName:"KeyManager",abi:[{inputs:[{name:"_identity",type:"address"},{name:"_manager",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"key",type:"bytes32"},{indexed:!0,name:"purpose",type:"uint256"},{indexed:!0,name:"keyType",type:"uint256"}],name:"KeyRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"ExecutionRequested",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"value",type:"uint256"},{indexed:!1,name:"data",type:"bytes"}],name:"Executed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executionId",type:"uint256"},{indexed:!1,name:"approved",type:"bool"}],name:"Approved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"purpose",type:"uint256"},{indexed:!1,name:"number",type:"uint256"}],name:"KeysRequiredChanged",type:"event"},{constant:!0,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"keyHasPurpose",outputs:[{name:"isExistent",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"getKey",outputs:[{name:"purpose",type:"uint256"},{name:"keyType",type:"uint256"},{name:"key",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_purpose",type:"uint256"}],name:"getKeysByPurpose",outputs:[{name:"_keys",type:"bytes32[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"},{name:"_keyType",type:"uint256"}],name:"addKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_key",type:"bytes32"},{name:"_purpose",type:"uint256"}],name:"removeKey",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],bytecode:"0x608060405234801561001057600080fd5b50604051604080610d108339810180604052604081101561003057600080fd5b810190808051906020019092919080519060200190929190505050816000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600081604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c01000000000000000000000000028152601401915050604051602081830303815290604052805190602001209050606060405190810160405280600181526020016001815260200182815250600160008381526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050506002600060018152602001908152602001600020819080600181540180825580915050906001820390600052602060002001600090919290919091505550600180827f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4505050610b4d806101c36000396000f3fe60806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806312aaac70146100725780631d381240146100cf57806353d413c5146101365780639010f72614610193578063d202158d14610223575b600080fd5b34801561007e57600080fd5b506100ab6004803603602081101561009557600080fd5b8101908080359060200190929190505050610280565b60405180848152602001838152602001828152602001935050505060405180910390f35b3480156100db57600080fd5b5061011c600480360360608110156100f257600080fd5b810190808035906020019092919080359060200190929190803590602001909291905050506102d7565b604051808215151515815260200191505060405180910390f35b34801561014257600080fd5b506101796004803603604081101561015957600080fd5b8101908080359060200190929190803590602001909291905050506105d3565b604051808215151515815260200191505060405180910390f35b34801561019f57600080fd5b506101cc600480360360208110156101b657600080fd5b81019080803590602001909291905050506109b5565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561020f5780820151818401526020810190506101f4565b505050509050019250505060405180910390f35b34801561022f57600080fd5b506102666004803603604081101561024657600080fd5b810190808035906020019092919080359060200190929190505050610a20565b604051808215151515815260200191505060405180910390f35b60008060006001600085815260200190815260200160002060000154600160008681526020019081526020016000206001015460016000878152602001908152602001600020600201549250925092509193909250565b600083600160008681526020019081526020016000206002015414151515610367576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4b657920616c7265616479206578697374732e0000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610549573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b15801561047357600080fd5b505afa158015610487573d6000803e3d6000fd5b505050506040513d602081101561049d57600080fd5b81019080805190602001909291905050501515610548576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f7365206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60606040519081016040528084815260200183815260200185815250600160008681526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050508183857f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b6000826001600085815260200190815260200160002060020154141515610662576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f4e6f2073756368206b65792e000000000000000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610844573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b15801561076e57600080fd5b505afa158015610782573d6000803e3d6000fd5b505050506040513d602081101561079857600080fd5b81019080805190602001909291905050501515610843576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60016000848152602001908152602001600020600080820160009055600182016000905560028201600090555050600060026000848152602001908152602001600020905060008090505b8180549050811015610941578482828154811015156108aa57fe5b90600052602060002001541415610934578160018380549050038154811015156108d057fe5b906000526020600020015482828154811015156108e957fe5b906000526020600020018190555081600183805490500381548110151561090c57fe5b90600052602060002001600090558180548091906001900361092e9190610a7e565b50610941565b808060010191505061088f565b508060026000858152602001908152602001600020908054610964929190610aaa565b50600160008581526020019081526020016000206001015483857f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a4600191505092915050565b606060026000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a1457602002820191906000526020600020905b815481526020019060010190808311610a00575b50505050509050919050565b60008060010260016000858152602001908152602001600020600201541415610a4c5760009050610a78565b8160016000858152602001908152602001600020600001541415610a735760019050610a78565b600090505b92915050565b815481835581811115610aa557818360005260206000209182019101610aa49190610afc565b5b505050565b828054828255906000526020600020908101928215610aeb5760005260206000209182015b82811115610aea578254825591600101919060010190610acf565b5b509050610af89190610afc565b5090565b610b1e91905b80821115610b1a576000816000905550600101610b02565b5090565b9056fea165627a7a7230582089060ff1c49e2a49aefcdba6190baed2047390cff63e081289ffc270385b88360029",deployedBytecode:"0x60806040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806312aaac70146100725780631d381240146100cf57806353d413c5146101365780639010f72614610193578063d202158d14610223575b600080fd5b34801561007e57600080fd5b506100ab6004803603602081101561009557600080fd5b8101908080359060200190929190505050610280565b60405180848152602001838152602001828152602001935050505060405180910390f35b3480156100db57600080fd5b5061011c600480360360608110156100f257600080fd5b810190808035906020019092919080359060200190929190803590602001909291905050506102d7565b604051808215151515815260200191505060405180910390f35b34801561014257600080fd5b506101796004803603604081101561015957600080fd5b8101908080359060200190929190803590602001909291905050506105d3565b604051808215151515815260200191505060405180910390f35b34801561019f57600080fd5b506101cc600480360360208110156101b657600080fd5b81019080803590602001909291905050506109b5565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561020f5780820151818401526020810190506101f4565b505050509050019250505060405180910390f35b34801561022f57600080fd5b506102666004803603604081101561024657600080fd5b810190808035906020019092919080359060200190929190505050610a20565b604051808215151515815260200191505060405180910390f35b60008060006001600085815260200190815260200160002060000154600160008681526020019081526020016000206001015460016000878152602001908152602001600020600201549250925092509193909250565b600083600160008681526020019081526020016000206002015414151515610367576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260138152602001807f4b657920616c7265616479206578697374732e0000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610549573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b15801561047357600080fd5b505afa158015610487573d6000803e3d6000fd5b505050506040513d602081101561049d57600080fd5b81019080805190602001909291905050501515610548576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f7365206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60606040519081016040528084815260200183815260200185815250600160008681526020019081526020016000206000820151816000015560208201518160010155604082015181600201559050508183857f480000bb1edad8ca1470381cc334b1917fbd51c6531f3a623ea8e0ec7e38a6e960405160405180910390a4600190509392505050565b6000826001600085815260200190815260200160002060020154141515610662576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252600c8152602001807f4e6f2073756368206b65792e000000000000000000000000000000000000000081525060200191505060405180910390fd5b3073ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610844573073ffffffffffffffffffffffffffffffffffffffff1663d202158d33604051602001808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166c010000000000000000000000000281526014019150506040516020818303038152906040528051906020012060016040518363ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808381526020018281526020019250505060206040518083038186803b15801561076e57600080fd5b505afa158015610782573d6000803e3d6000fd5b505050506040513d602081101561079857600080fd5b81019080805190602001909291905050501515610843576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260238152602001807f53656e64657220646f6573206e6f7420686176652061206d616e61676572206b81526020017f65792e000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b5b60016000848152602001908152602001600020600080820160009055600182016000905560028201600090555050600060026000848152602001908152602001600020905060008090505b8180549050811015610941578482828154811015156108aa57fe5b90600052602060002001541415610934578160018380549050038154811015156108d057fe5b906000526020600020015482828154811015156108e957fe5b906000526020600020018190555081600183805490500381548110151561090c57fe5b90600052602060002001600090558180548091906001900361092e9190610a7e565b50610941565b808060010191505061088f565b508060026000858152602001908152602001600020908054610964929190610aaa565b50600160008581526020019081526020016000206001015483857f585a4aef50f8267a92b32412b331b20f7f8b96f2245b253b9cc50dcc621d339760405160405180910390a4600191505092915050565b606060026000838152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610a1457602002820191906000526020600020905b815481526020019060010190808311610a00575b50505050509050919050565b60008060010260016000858152602001908152602001600020600201541415610a4c5760009050610a78565b8160016000858152602001908152602001600020600001541415610a735760019050610a78565b600090505b92915050565b815481835581811115610aa557818360005260206000209182019101610aa49190610afc565b5b505050565b828054828255906000526020600020908101928215610aeb5760005260206000209182015b82811115610aea578254825591600101919060010190610acf565b5b509050610af89190610afc565b5090565b610b1e91905b80821115610b1a576000816000905550600101610b02565b5090565b9056fea165627a7a7230582089060ff1c49e2a49aefcdba6190baed2047390cff63e081289ffc270385b88360029",sourceMap:"80:2503:3:-;;;412:357;8:9:-1;5:2;;;30:1;27;20:12;5:2;412:357:3;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;412:357:3;;;;;;;;;;;;;;;;;;;;;;;;;492:9;474:8;;:28;;;;;;;;;;;;;;;;;;508:12;550:8;533:26;;;;;;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;533:26:3;;;523:37;;;;;;508:52;;579:86;;;;;;;;;149:1;579:86;;;;264:1;579:86;;;;654:4;579:86;;;566:4;:10;571:4;566:10;;;;;;;;;;;:99;;;;;;;;;;;;;;;;;;;;;;;;;;;671:13;:29;149:1;671:29;;;;;;;;;;;706:4;671:40;;39:1:-1;33:3;27:10;23:18;57:10;52:3;45:23;79:10;72:17;;0:93;671:40:3;;;;;;;;;;;;;;;;;;;;;;264:1;149;731:4;722:42;;;;;;;;;;412:357;;;80:2503;;;;;;",deployedSourceMap:"80:2503:3:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1021:174;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1021:174:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1021:174:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1336:488;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1336:488:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1336:488:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1829:751;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1829:751:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1829:751:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1200:132;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1200:132:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1200:132:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;99:1;94:3;90:11;84:18;80:1;75:3;71:11;64:39;52:2;49:1;45:10;40:15;;8:100;;;12:14;1200:132:3;;;;;;;;;;;;;;;;;773:243;;8:9:-1;5:2;;;30:1;27;20:12;5:2;773:243:3;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;773:243:3;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1021:174;1074:15;1091;1108:11;1135:4;:10;1140:4;1135:10;;;;;;;;;;;:18;;;1155:4;:10;1160:4;1155:10;;;;;;;;;;;:18;;;1175:4;:10;1180:4;1175:10;;;;;;;;;;;:14;;;1127:63;;;;;;1021:174;;;;;:::o;1336:488::-;1420:12;1466:4;1448;:10;1453:4;1448:10;;;;;;;;;;;:14;;;:22;;1440:54;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1526:4;1504:27;;:10;:27;;;;1500:158;;;1549:4;:18;;;1595:10;1578:28;;;;;;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;1578:28:3;;;1568:39;;;;;;1609:1;1549:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1549:62:3;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1549:62:3;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;1549:62:3;;;;;;;;;;;;;;;;1541:110;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1500:158;1677:78;;;;;;;;;1715:8;1677:78;;;;1740:8;1677:78;;;;1694:4;1677:78;;;1664:4;:10;1669:4;1664:10;;;;;;;;;;;:91;;;;;;;;;;;;;;;;;;;;;;;;;;;1792:8;1782;1776:4;1767:34;;;;;;;;;;1815:4;1808:11;;1336:488;;;;;:::o;1829:751::-;1898:12;1944:4;1926;:10;1931:4;1926:10;;;;;;;;;;;:14;;;:22;1918:47;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1997:4;1975:27;;:10;:27;;;;1971:158;;;2020:4;:18;;;2066:10;2049:28;;;;;;;;;;;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;2049:28:3;;;2039:39;;;;;;2080:1;2020:62;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2020:62:3;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2020:62:3;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;2020:62:3;;;;;;;;;;;;;;;;2012:110;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1971:158;2142:4;:10;2147:4;2142:10;;;;;;;;;;;;2135:17;;;;;;;;;;;;;;;;;;;;2159:27;2189:13;:23;2203:8;2189:23;;;;;;;;;;;2159:53;;2223:6;2232:1;2223:10;;2218:241;2239:9;:16;;;;2235:1;:20;2218:241;;;2290:4;2274:9;2284:1;2274:12;;;;;;;;;;;;;;;;;;:20;2270:183;;;2321:9;2350:1;2331:9;:16;;;;:20;2321:31;;;;;;;;;;;;;;;;;;2306:9;2316:1;2306:12;;;;;;;;;;;;;;;;;:46;;;;2369:9;2398:1;2379:9;:16;;;;:20;2369:31;;;;;;;;;;;;;;;;;2362:38;;;2410:9;:19;;;;;;;;;;;;:::i;:::-;;2439:5;;2270:183;2257:3;;;;;;;2218:241;;;;2490:9;2464:13;:23;2478:8;2464:23;;;;;;;;;;;:35;;;;;;;;:::i;:::-;;2538:4;:10;2543:4;2538:10;;;;;;;;;;;:18;;;2528:8;2522:4;2511:46;;;;;;;;;;2571:4;2564:11;;;1829:751;;;;:::o;1200:132::-;1267:22;1304:13;:23;1318:8;1304:23;;;;;;;;;;;1297:30;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1200:132;;;:::o;773:243::-;851:15;896:1;878:19;;:4;:10;883:4;878:10;;;;;;;;;;;:14;;;:19;874:37;;;906:5;899:12;;;;874:37;943:8;921:4;:10;926:4;921:10;;;;;;;;;;;:18;;;:30;917:95;;;968:4;961:11;;;;917:95;1000:5;993:12;;773:243;;;;;:::o;80:2503::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o",source:'pragma solidity >=0.5.0 <0.6.0;\n\nimport "./ERC725.sol";\nimport "./ERC734.sol";\n\ncontract KeyManager is ERC734 {\n\n  uint256 constant MANAGEMENT_KEY = 1;\n  uint256 constant EXECUTION_KEY = 2;\n  uint256 constant CLAIM_SIGNER_KEY = 3;\n\n  uint256 constant ECDSA_TYPE = 1;\n  uint256 constant RSA_TYPE = 2;\n\n  ERC725 private identity;\n  mapping (bytes32 => Key) keys;\n  mapping (uint256 => bytes32[]) keysByPurpose;\n\n  constructor(address _identity, address _manager) public {\n    identity = ERC725(_identity);\n    bytes32 _key = keccak256(abi.encodePacked(_manager));\n    keys[_key] = Key({\n      purpose: MANAGEMENT_KEY,\n      keyType: ECDSA_TYPE,\n      key: _key\n    });\n    keysByPurpose[MANAGEMENT_KEY].push(_key);\n    emit KeyAdded(_key, MANAGEMENT_KEY, ECDSA_TYPE);\n  }\n\n  function keyHasPurpose(bytes32 _key, uint256 _purpose) external view returns (bool isExistent) {\n    if (keys[_key].key == 0) return false;\n    if (keys[_key].purpose == _purpose) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n\n  function getKey(bytes32 _key) external view returns (uint256 purpose, uint256 keyType, bytes32 key) {\n    return (keys[_key].purpose, keys[_key].keyType, keys[_key].key);\n  }\n\n\n  function getKeysByPurpose(uint256 _purpose) external view returns (bytes32[] memory _keys) {\n    return keysByPurpose[_purpose];\n  }\n\n  function addKey(bytes32 _key, uint256 _purpose, uint256 _keyType) external returns (bool success) {\n    require(keys[_key].key != _key, "Key already exists.");\n    if (msg.sender != address(this)) {\n      require(this.keyHasPurpose(keccak256(abi.encodePacked(msg.sender)), 1), "Sender dose not have a manager key.");\n    }\n\n    keys[_key] = Key({\n      key: _key,\n      purpose: _purpose,\n      keyType: _keyType\n    });\n\n    emit KeyAdded(_key, _purpose, _keyType);\n\n    return true;\n  }\n\n\n  function removeKey(bytes32 _key, uint256 _purpose) external returns (bool success) {\n    require(keys[_key].key == _key, "No such key.");\n    if (msg.sender != address(this)) {\n      require(this.keyHasPurpose(keccak256(abi.encodePacked(msg.sender)), 1), "Sender does not have a manager key.");\n    }\n\n    delete keys[_key];\n\n    bytes32[] storage keysCache = keysByPurpose[_purpose];\n    for (uint i = 0; i < keysCache.length; i++) {\n      if (keysCache[i] == _key) {\n        keysCache[i] = keysCache[keysCache.length - 1];\n        delete keysCache[keysCache.length - 1];\n        keysCache.length --;\n        break;\n      }\n    }\n    keysByPurpose[_purpose] = keysCache;\n\n    emit KeyRemoved(_key, _purpose, keys[_key].keyType);\n\n    return true;\n  }\n\n}\n',sourcePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",ast:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",exportedSymbols:{KeyManager:[652]},id:653,nodeType:"SourceUnit",nodes:[{id:323,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:3"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:324,nodeType:"ImportDirective",scope:653,sourceUnit:47,src:"33:22:3",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC734.sol",file:"./ERC734.sol",id:325,nodeType:"ImportDirective",scope:653,sourceUnit:153,src:"56:22:3",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:326,name:"ERC734",nodeType:"UserDefinedTypeName",referencedDeclaration:152,src:"103:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC734_$152",typeString:"contract ERC734"}},id:327,nodeType:"InheritanceSpecifier",src:"103:6:3"}],contractDependencies:[152],contractKind:"contract",documentation:null,fullyImplemented:!0,id:652,linearizedBaseContracts:[652,152],name:"KeyManager",nodeType:"ContractDefinition",nodes:[{constant:!0,id:330,name:"MANAGEMENT_KEY",nodeType:"VariableDeclaration",scope:652,src:"115:35:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:328,name:"uint256",nodeType:"ElementaryTypeName",src:"115:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:329,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"149:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:333,name:"EXECUTION_KEY",nodeType:"VariableDeclaration",scope:652,src:"154:34:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:331,name:"uint256",nodeType:"ElementaryTypeName",src:"154:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:332,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"187:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!0,id:336,name:"CLAIM_SIGNER_KEY",nodeType:"VariableDeclaration",scope:652,src:"192:37:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:334,name:"uint256",nodeType:"ElementaryTypeName",src:"192:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"33",id:335,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"228:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_3_by_1",typeString:"int_const 3"},value:"3"},visibility:"internal"},{constant:!0,id:339,name:"ECDSA_TYPE",nodeType:"VariableDeclaration",scope:652,src:"234:31:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:337,name:"uint256",nodeType:"ElementaryTypeName",src:"234:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:338,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"264:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:342,name:"RSA_TYPE",nodeType:"VariableDeclaration",scope:652,src:"269:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:340,name:"uint256",nodeType:"ElementaryTypeName",src:"269:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:341,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"297:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!1,id:344,name:"identity",nodeType:"VariableDeclaration",scope:652,src:"303:23:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"},typeName:{contractScope:null,id:343,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"303:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},value:null,visibility:"private"},{constant:!1,id:348,name:"keys",nodeType:"VariableDeclaration",scope:652,src:"330:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},typeName:{id:347,keyType:{id:345,name:"bytes32",nodeType:"ElementaryTypeName",src:"339:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"330:24:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},valueType:{contractScope:null,id:346,name:"Key",nodeType:"UserDefinedTypeName",referencedDeclaration:103,src:"350:3:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage_ptr",typeString:"struct ERC734.Key"}}},value:null,visibility:"internal"},{constant:!1,id:353,name:"keysByPurpose",nodeType:"VariableDeclaration",scope:652,src:"363:44:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},typeName:{id:352,keyType:{id:349,name:"uint256",nodeType:"ElementaryTypeName",src:"372:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Mapping",src:"363:30:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},valueType:{baseType:{id:350,name:"bytes32",nodeType:"ElementaryTypeName",src:"383:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:351,length:null,nodeType:"ArrayTypeName",src:"383:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}}},value:null,visibility:"internal"},{body:{id:398,nodeType:"Block",src:"468:301:3",statements:[{expression:{argumentTypes:null,id:364,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:360,name:"identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"474:8:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:362,name:"_identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:355,src:"492:9:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:361,name:"ERC725",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:46,src:"485:6:3",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC725_$46_$",typeString:"type(contract ERC725)"}},id:363,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"485:17:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},src:"474:28:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:365,nodeType:"ExpressionStatement",src:"474:28:3"},{assignments:[367],declarations:[{constant:!1,id:367,name:"_key",nodeType:"VariableDeclaration",scope:398,src:"508:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:366,name:"bytes32",nodeType:"ElementaryTypeName",src:"508:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:374,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:371,name:"_manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:357,src:"550:8:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:369,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:741,src:"533:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:370,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"533:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:372,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"533:26:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:368,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:748,src:"523:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:373,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"523:37:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"508:52:3"},{expression:{argumentTypes:null,id:383,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:375,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"566:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:377,indexExpression:{argumentTypes:null,id:376,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"571:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"566:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:379,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:330,src:"600:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:380,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:339,src:"631:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:381,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"654:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:null,id:378,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"579:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:382,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["purpose","keyType","key"],nodeType:"FunctionCall",src:"579:86:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"566:99:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:384,nodeType:"ExpressionStatement",src:"566:99:3"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:389,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"706:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:385,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"671:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:387,indexExpression:{argumentTypes:null,id:386,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:330,src:"685:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"671:29:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:388,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"671:34:3",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) returns (uint256)"}},id:390,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"671:40:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:391,nodeType:"ExpressionStatement",src:"671:40:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:393,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"731:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:394,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:330,src:"737:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:395,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:339,src:"753:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:392,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"722:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:396,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"722:42:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:397,nodeType:"EmitStatement",src:"717:47:3"}]},documentation:null,id:399,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:358,nodeType:"ParameterList",parameters:[{constant:!1,id:355,name:"_identity",nodeType:"VariableDeclaration",scope:399,src:"424:17:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:354,name:"address",nodeType:"ElementaryTypeName",src:"424:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:357,name:"_manager",nodeType:"VariableDeclaration",scope:399,src:"443:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:356,name:"address",nodeType:"ElementaryTypeName",src:"443:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"423:37:3"},returnParameters:{id:359,nodeType:"ParameterList",parameters:[],src:"468:0:3"},scope:652,src:"412:357:3",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:430,nodeType:"Block",src:"868:148:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:413,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:408,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"878:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:410,indexExpression:{argumentTypes:null,id:409,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:401,src:"883:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"878:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:411,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"878:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:412,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"896:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"878:19:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:416,nodeType:"IfStatement",src:"874:37:3",trueBody:{expression:{argumentTypes:null,hexValue:"66616c7365",id:414,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"906:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:407,id:415,nodeType:"Return",src:"899:12:3"}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:422,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:417,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"921:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:419,indexExpression:{argumentTypes:null,id:418,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:401,src:"926:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"921:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:420,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"921:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:421,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:403,src:"943:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"921:30:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:428,nodeType:"Block",src:"985:27:3",statements:[{expression:{argumentTypes:null,hexValue:"66616c7365",id:426,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1000:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:407,id:427,nodeType:"Return",src:"993:12:3"}]},id:429,nodeType:"IfStatement",src:"917:95:3",trueBody:{id:425,nodeType:"Block",src:"953:26:3",statements:[{expression:{argumentTypes:null,hexValue:"74727565",id:423,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"968:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:407,id:424,nodeType:"Return",src:"961:11:3"}]}}]},documentation:null,id:431,implemented:!0,kind:"function",modifiers:[],name:"keyHasPurpose",nodeType:"FunctionDefinition",parameters:{id:404,nodeType:"ParameterList",parameters:[{constant:!1,id:401,name:"_key",nodeType:"VariableDeclaration",scope:431,src:"796:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:400,name:"bytes32",nodeType:"ElementaryTypeName",src:"796:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:403,name:"_purpose",nodeType:"VariableDeclaration",scope:431,src:"810:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:402,name:"uint256",nodeType:"ElementaryTypeName",src:"810:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"795:32:3"},returnParameters:{id:407,nodeType:"ParameterList",parameters:[{constant:!1,id:406,name:"isExistent",nodeType:"VariableDeclaration",scope:431,src:"851:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:405,name:"bool",nodeType:"ElementaryTypeName",src:"851:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"850:17:3"},scope:652,src:"773:243:3",stateMutability:"view",superFunction:112,visibility:"external"},{body:{id:456,nodeType:"Block",src:"1121:74:3",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:442,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1135:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:444,indexExpression:{argumentTypes:null,id:443,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:433,src:"1140:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1135:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:445,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"1135:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:446,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1155:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:448,indexExpression:{argumentTypes:null,id:447,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:433,src:"1160:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1155:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:449,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"1155:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:450,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1175:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:452,indexExpression:{argumentTypes:null,id:451,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:433,src:"1180:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1175:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:453,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1175:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],id:454,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"1134:56:3",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$_t_bytes32_$",typeString:"tuple(uint256,uint256,bytes32)"}},functionReturnParameters:441,id:455,nodeType:"Return",src:"1127:63:3"}]},documentation:null,id:457,implemented:!0,kind:"function",modifiers:[],name:"getKey",nodeType:"FunctionDefinition",parameters:{id:434,nodeType:"ParameterList",parameters:[{constant:!1,id:433,name:"_key",nodeType:"VariableDeclaration",scope:457,src:"1037:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:432,name:"bytes32",nodeType:"ElementaryTypeName",src:"1037:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1036:14:3"},returnParameters:{id:441,nodeType:"ParameterList",parameters:[{constant:!1,id:436,name:"purpose",nodeType:"VariableDeclaration",scope:457,src:"1074:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:435,name:"uint256",nodeType:"ElementaryTypeName",src:"1074:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:438,name:"keyType",nodeType:"VariableDeclaration",scope:457,src:"1091:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:437,name:"uint256",nodeType:"ElementaryTypeName",src:"1091:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:440,name:"key",nodeType:"VariableDeclaration",scope:457,src:"1108:11:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:439,name:"bytes32",nodeType:"ElementaryTypeName",src:"1108:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1073:47:3"},scope:652,src:"1021:174:3",stateMutability:"view",superFunction:123,visibility:"external"},{body:{id:469,nodeType:"Block",src:"1291:41:3",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:465,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"1304:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:467,indexExpression:{argumentTypes:null,id:466,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:459,src:"1318:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1304:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},functionReturnParameters:464,id:468,nodeType:"Return",src:"1297:30:3"}]},documentation:null,id:470,implemented:!0,kind:"function",modifiers:[],name:"getKeysByPurpose",nodeType:"FunctionDefinition",parameters:{id:460,nodeType:"ParameterList",parameters:[{constant:!1,id:459,name:"_purpose",nodeType:"VariableDeclaration",scope:470,src:"1226:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:458,name:"uint256",nodeType:"ElementaryTypeName",src:"1226:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1225:18:3"},returnParameters:{id:464,nodeType:"ParameterList",parameters:[{constant:!1,id:463,name:"_keys",nodeType:"VariableDeclaration",scope:470,src:"1267:22:3",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:461,name:"bytes32",nodeType:"ElementaryTypeName",src:"1267:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:462,length:null,nodeType:"ArrayTypeName",src:"1267:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],src:"1266:24:3"},scope:652,src:"1200:132:3",stateMutability:"view",superFunction:131,visibility:"external"},{body:{id:532,nodeType:"Block",src:"1434:390:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:487,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:482,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1448:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:484,indexExpression:{argumentTypes:null,id:483,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1453:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1448:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:485,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1448:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,id:486,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1466:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1448:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4b657920616c7265616479206578697374732e",id:488,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1472:21:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'},value:"Key already exists."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'}],id:481,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"1440:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:489,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1440:54:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:490,nodeType:"ExpressionStatement",src:"1440:54:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:496,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:491,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"1504:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:492,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1504:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:494,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"1526:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}],id:493,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1518:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:495,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1518:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1504:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:513,nodeType:"IfStatement",src:"1500:158:3",trueBody:{id:512,nodeType:"Block",src:"1533:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:503,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"1595:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:504,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1595:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:501,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:741,src:"1578:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:502,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1578:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:505,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1578:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:500,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:748,src:"1568:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:506,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1568:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:507,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1609:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:498,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"1549:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}},id:499,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:431,src:"1549:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:508,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1549:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f7365206e6f7420686176652061206d616e61676572206b65792e",id:509,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1613:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'},value:"Sender dose not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'}],id:497,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"1541:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:510,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1541:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:511,nodeType:"ExpressionStatement",src:"1541:110:3"}]}},{expression:{argumentTypes:null,id:522,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:514,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1664:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:516,indexExpression:{argumentTypes:null,id:515,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1669:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"1664:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:518,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1694:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:519,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:474,src:"1715:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:520,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:476,src:"1740:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:null,id:517,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"1677:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:521,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["key","purpose","keyType"],nodeType:"FunctionCall",src:"1677:78:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"1664:91:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:523,nodeType:"ExpressionStatement",src:"1664:91:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:525,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1776:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:526,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:474,src:"1782:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:527,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:476,src:"1792:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:524,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"1767:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:528,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1767:34:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:529,nodeType:"EmitStatement",src:"1762:39:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:530,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1815:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:480,id:531,nodeType:"Return",src:"1808:11:3"}]},documentation:null,id:533,implemented:!0,kind:"function",modifiers:[],name:"addKey",nodeType:"FunctionDefinition",parameters:{id:477,nodeType:"ParameterList",parameters:[{constant:!1,id:472,name:"_key",nodeType:"VariableDeclaration",scope:533,src:"1352:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:471,name:"bytes32",nodeType:"ElementaryTypeName",src:"1352:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:474,name:"_purpose",nodeType:"VariableDeclaration",scope:533,src:"1366:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:473,name:"uint256",nodeType:"ElementaryTypeName",src:"1366:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:476,name:"_keyType",nodeType:"VariableDeclaration",scope:533,src:"1384:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:475,name:"uint256",nodeType:"ElementaryTypeName",src:"1384:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1351:50:3"},returnParameters:{id:480,nodeType:"ParameterList",parameters:[{constant:!1,id:479,name:"success",nodeType:"VariableDeclaration",scope:533,src:"1420:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:478,name:"bool",nodeType:"ElementaryTypeName",src:"1420:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1419:14:3"},scope:652,src:"1336:488:3",stateMutability:"nonpayable",superFunction:142,visibility:"external"},{body:{id:650,nodeType:"Block",src:"1912:668:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:548,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:543,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1926:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:545,indexExpression:{argumentTypes:null,id:544,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"1931:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1926:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:546,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1926:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:547,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"1944:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1926:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4e6f2073756368206b65792e",id:549,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1950:14:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'},value:"No such key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'}],id:542,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"1918:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:550,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1918:47:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:551,nodeType:"ExpressionStatement",src:"1918:47:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:557,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:552,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"1975:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:553,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1975:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:555,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"1997:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}],id:554,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1989:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:556,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1989:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1975:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:574,nodeType:"IfStatement",src:"1971:158:3",trueBody:{id:573,nodeType:"Block",src:"2004:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:564,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"2066:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:565,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2066:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:562,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:741,src:"2049:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:563,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2049:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:566,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2049:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:561,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:748,src:"2039:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:567,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2039:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:568,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2080:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:559,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"2020:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}},id:560,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:431,src:"2020:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:569,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2020:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f6573206e6f7420686176652061206d616e61676572206b65792e",id:570,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2084:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'},value:"Sender does not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'}],id:558,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"2012:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:571,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2012:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:572,nodeType:"ExpressionStatement",src:"2012:110:3"}]}},{expression:{argumentTypes:null,id:578,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2135:17:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:575,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"2142:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:577,indexExpression:{argumentTypes:null,id:576,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2147:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2142:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:579,nodeType:"ExpressionStatement",src:"2135:17:3"},{assignments:[583],declarations:[{constant:!1,id:583,name:"keysCache",nodeType:"VariableDeclaration",scope:650,src:"2159:27:3",stateVariable:!1,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:581,name:"bytes32",nodeType:"ElementaryTypeName",src:"2159:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:582,length:null,nodeType:"ArrayTypeName",src:"2159:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],id:587,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:584,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"2189:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:586,indexExpression:{argumentTypes:null,id:585,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:537,src:"2203:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2189:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"2159:53:3"},{body:{id:631,nodeType:"Block",src:"2262:197:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:603,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:599,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2274:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:601,indexExpression:{argumentTypes:null,id:600,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2284:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2274:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:602,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2290:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2274:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:630,nodeType:"IfStatement",src:"2270:183:3",trueBody:{id:629,nodeType:"Block",src:"2296:157:3",statements:[{expression:{argumentTypes:null,id:613,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:604,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2306:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:606,indexExpression:{argumentTypes:null,id:605,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2316:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2306:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:607,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2321:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:612,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:611,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:608,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2331:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:609,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2331:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:610,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2350:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2331:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2321:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2306:46:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:614,nodeType:"ExpressionStatement",src:"2306:46:3"},{expression:{argumentTypes:null,id:621,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2362:38:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:615,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2369:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:620,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:619,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:616,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2379:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:617,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2379:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:618,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2398:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2379:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2369:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:622,nodeType:"ExpressionStatement",src:"2362:38:3"},{expression:{argumentTypes:null,id:626,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"2410:19:3",subExpression:{argumentTypes:null,expression:{argumentTypes:null,id:623,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2410:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:625,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2410:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:627,nodeType:"ExpressionStatement",src:"2410:19:3"},{id:628,nodeType:"Break",src:"2439:5:3"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:595,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:592,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2235:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:593,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2239:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:594,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2239:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2235:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:632,initializationExpression:{assignments:[589],declarations:[{constant:!1,id:589,name:"i",nodeType:"VariableDeclaration",scope:632,src:"2223:6:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:588,name:"uint",nodeType:"ElementaryTypeName",src:"2223:4:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:591,initialValue:{argumentTypes:null,hexValue:"30",id:590,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2232:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2223:10:3"},loopExpression:{expression:{argumentTypes:null,id:597,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"2257:3:3",subExpression:{argumentTypes:null,id:596,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2257:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:598,nodeType:"ExpressionStatement",src:"2257:3:3"},nodeType:"ForStatement",src:"2218:241:3"},{expression:{argumentTypes:null,id:637,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:633,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"2464:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:635,indexExpression:{argumentTypes:null,id:634,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:537,src:"2478:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2464:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:636,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2490:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},src:"2464:35:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:638,nodeType:"ExpressionStatement",src:"2464:35:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:640,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2522:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:641,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:537,src:"2528:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:642,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"2538:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:644,indexExpression:{argumentTypes:null,id:643,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2543:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2538:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:645,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"2538:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:639,name:"KeyRemoved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:64,src:"2511:10:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:646,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2511:46:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:647,nodeType:"EmitStatement",src:"2506:51:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:648,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"2571:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:541,id:649,nodeType:"Return",src:"2564:11:3"}]},documentation:null,id:651,implemented:!0,kind:"function",modifiers:[],name:"removeKey",nodeType:"FunctionDefinition",parameters:{id:538,nodeType:"ParameterList",parameters:[{constant:!1,id:535,name:"_key",nodeType:"VariableDeclaration",scope:651,src:"1848:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:534,name:"bytes32",nodeType:"ElementaryTypeName",src:"1848:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:537,name:"_purpose",nodeType:"VariableDeclaration",scope:651,src:"1862:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:536,name:"uint256",nodeType:"ElementaryTypeName",src:"1862:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1847:32:3"},returnParameters:{id:541,nodeType:"ParameterList",parameters:[{constant:!1,id:540,name:"success",nodeType:"VariableDeclaration",scope:651,src:"1898:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:539,name:"bool",nodeType:"ElementaryTypeName",src:"1898:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1897:14:3"},scope:652,src:"1829:751:3",stateMutability:"nonpayable",superFunction:151,visibility:"external"}],scope:653,src:"80:2503:3"}],src:"0:2584:3"},legacyAST:{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/KeyManager.sol",exportedSymbols:{KeyManager:[652]},id:653,nodeType:"SourceUnit",nodes:[{id:323,literals:["solidity",">=","0.5",".0","<","0.6",".0"],nodeType:"PragmaDirective",src:"0:31:3"},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC725.sol",file:"./ERC725.sol",id:324,nodeType:"ImportDirective",scope:653,sourceUnit:47,src:"33:22:3",symbolAliases:[],unitAlias:""},{absolutePath:"/Users/xiaobowen/codes/erc725-did-method/contracts/ERC734.sol",file:"./ERC734.sol",id:325,nodeType:"ImportDirective",scope:653,sourceUnit:153,src:"56:22:3",symbolAliases:[],unitAlias:""},{baseContracts:[{arguments:null,baseName:{contractScope:null,id:326,name:"ERC734",nodeType:"UserDefinedTypeName",referencedDeclaration:152,src:"103:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC734_$152",typeString:"contract ERC734"}},id:327,nodeType:"InheritanceSpecifier",src:"103:6:3"}],contractDependencies:[152],contractKind:"contract",documentation:null,fullyImplemented:!0,id:652,linearizedBaseContracts:[652,152],name:"KeyManager",nodeType:"ContractDefinition",nodes:[{constant:!0,id:330,name:"MANAGEMENT_KEY",nodeType:"VariableDeclaration",scope:652,src:"115:35:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:328,name:"uint256",nodeType:"ElementaryTypeName",src:"115:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:329,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"149:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:333,name:"EXECUTION_KEY",nodeType:"VariableDeclaration",scope:652,src:"154:34:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:331,name:"uint256",nodeType:"ElementaryTypeName",src:"154:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:332,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"187:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!0,id:336,name:"CLAIM_SIGNER_KEY",nodeType:"VariableDeclaration",scope:652,src:"192:37:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:334,name:"uint256",nodeType:"ElementaryTypeName",src:"192:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"33",id:335,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"228:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_3_by_1",typeString:"int_const 3"},value:"3"},visibility:"internal"},{constant:!0,id:339,name:"ECDSA_TYPE",nodeType:"VariableDeclaration",scope:652,src:"234:31:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:337,name:"uint256",nodeType:"ElementaryTypeName",src:"234:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"31",id:338,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"264:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},visibility:"internal"},{constant:!0,id:342,name:"RSA_TYPE",nodeType:"VariableDeclaration",scope:652,src:"269:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:340,name:"uint256",nodeType:"ElementaryTypeName",src:"269:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:{argumentTypes:null,hexValue:"32",id:341,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"297:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_2_by_1",typeString:"int_const 2"},value:"2"},visibility:"internal"},{constant:!1,id:344,name:"identity",nodeType:"VariableDeclaration",scope:652,src:"303:23:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"},typeName:{contractScope:null,id:343,name:"ERC725",nodeType:"UserDefinedTypeName",referencedDeclaration:46,src:"303:6:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},value:null,visibility:"private"},{constant:!1,id:348,name:"keys",nodeType:"VariableDeclaration",scope:652,src:"330:29:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},typeName:{id:347,keyType:{id:345,name:"bytes32",nodeType:"ElementaryTypeName",src:"339:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Mapping",src:"330:24:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key)"},valueType:{contractScope:null,id:346,name:"Key",nodeType:"UserDefinedTypeName",referencedDeclaration:103,src:"350:3:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage_ptr",typeString:"struct ERC734.Key"}}},value:null,visibility:"internal"},{constant:!1,id:353,name:"keysByPurpose",nodeType:"VariableDeclaration",scope:652,src:"363:44:3",stateVariable:!0,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},typeName:{id:352,keyType:{id:349,name:"uint256",nodeType:"ElementaryTypeName",src:"372:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"Mapping",src:"363:30:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[])"},valueType:{baseType:{id:350,name:"bytes32",nodeType:"ElementaryTypeName",src:"383:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:351,length:null,nodeType:"ArrayTypeName",src:"383:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}}},value:null,visibility:"internal"},{body:{id:398,nodeType:"Block",src:"468:301:3",statements:[{expression:{argumentTypes:null,id:364,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,id:360,name:"identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:344,src:"474:8:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:362,name:"_identity",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:355,src:"492:9:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],id:361,name:"ERC725",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:46,src:"485:6:3",typeDescriptions:{typeIdentifier:"t_type$_t_contract$_ERC725_$46_$",typeString:"type(contract ERC725)"}},id:363,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"485:17:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},src:"474:28:3",typeDescriptions:{typeIdentifier:"t_contract$_ERC725_$46",typeString:"contract ERC725"}},id:365,nodeType:"ExpressionStatement",src:"474:28:3"},{assignments:[367],declarations:[{constant:!1,id:367,name:"_key",nodeType:"VariableDeclaration",scope:398,src:"508:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:366,name:"bytes32",nodeType:"ElementaryTypeName",src:"508:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],id:374,initialValue:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,id:371,name:"_manager",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:357,src:"550:8:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}}],expression:{argumentTypes:[{typeIdentifier:"t_address",typeString:"address"}],expression:{argumentTypes:null,id:369,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:741,src:"533:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:370,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"533:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:372,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"533:26:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:368,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:748,src:"523:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:373,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"523:37:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"VariableDeclarationStatement",src:"508:52:3"},{expression:{argumentTypes:null,id:383,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:375,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"566:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:377,indexExpression:{argumentTypes:null,id:376,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"571:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"566:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:379,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:330,src:"600:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:380,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:339,src:"631:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:381,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"654:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:null,id:378,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"579:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:382,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["purpose","keyType","key"],nodeType:"FunctionCall",src:"579:86:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"566:99:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:384,nodeType:"ExpressionStatement",src:"566:99:3"},{expression:{argumentTypes:null,arguments:[{argumentTypes:null,id:389,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"706:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"}],expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:385,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"671:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:387,indexExpression:{argumentTypes:null,id:386,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:330,src:"685:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"671:29:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:388,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"push",nodeType:"MemberAccess",referencedDeclaration:null,src:"671:34:3",typeDescriptions:{typeIdentifier:"t_function_arraypush_nonpayable$_t_bytes32_$returns$_t_uint256_$",typeString:"function (bytes32) returns (uint256)"}},id:390,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"671:40:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:391,nodeType:"ExpressionStatement",src:"671:40:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:393,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:367,src:"731:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:394,name:"MANAGEMENT_KEY",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:330,src:"737:14:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:395,name:"ECDSA_TYPE",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:339,src:"753:10:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:392,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"722:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:396,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"722:42:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:397,nodeType:"EmitStatement",src:"717:47:3"}]},documentation:null,id:399,implemented:!0,kind:"constructor",modifiers:[],name:"",nodeType:"FunctionDefinition",parameters:{id:358,nodeType:"ParameterList",parameters:[{constant:!1,id:355,name:"_identity",nodeType:"VariableDeclaration",scope:399,src:"424:17:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:354,name:"address",nodeType:"ElementaryTypeName",src:"424:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"},{constant:!1,id:357,name:"_manager",nodeType:"VariableDeclaration",scope:399,src:"443:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"},typeName:{id:356,name:"address",nodeType:"ElementaryTypeName",src:"443:7:3",stateMutability:"nonpayable",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},value:null,visibility:"internal"}],src:"423:37:3"},returnParameters:{id:359,nodeType:"ParameterList",parameters:[],src:"468:0:3"},scope:652,src:"412:357:3",stateMutability:"nonpayable",superFunction:null,visibility:"public"},{body:{id:430,nodeType:"Block",src:"868:148:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:413,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:408,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"878:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:410,indexExpression:{argumentTypes:null,id:409,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:401,src:"883:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"878:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:411,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"878:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,hexValue:"30",id:412,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"896:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},src:"878:19:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:416,nodeType:"IfStatement",src:"874:37:3",trueBody:{expression:{argumentTypes:null,hexValue:"66616c7365",id:414,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"906:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:407,id:415,nodeType:"Return",src:"899:12:3"}},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:422,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:417,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"921:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:419,indexExpression:{argumentTypes:null,id:418,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:401,src:"926:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"921:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:420,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"921:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:421,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:403,src:"943:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"921:30:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:{id:428,nodeType:"Block",src:"985:27:3",statements:[{expression:{argumentTypes:null,hexValue:"66616c7365",id:426,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1000:5:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"false"},functionReturnParameters:407,id:427,nodeType:"Return",src:"993:12:3"}]},id:429,nodeType:"IfStatement",src:"917:95:3",trueBody:{id:425,nodeType:"Block",src:"953:26:3",statements:[{expression:{argumentTypes:null,hexValue:"74727565",id:423,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"968:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:407,id:424,nodeType:"Return",src:"961:11:3"}]}}]},documentation:null,id:431,implemented:!0,kind:"function",modifiers:[],name:"keyHasPurpose",nodeType:"FunctionDefinition",parameters:{id:404,nodeType:"ParameterList",parameters:[{constant:!1,id:401,name:"_key",nodeType:"VariableDeclaration",scope:431,src:"796:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:400,name:"bytes32",nodeType:"ElementaryTypeName",src:"796:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:403,name:"_purpose",nodeType:"VariableDeclaration",scope:431,src:"810:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:402,name:"uint256",nodeType:"ElementaryTypeName",src:"810:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"795:32:3"},returnParameters:{id:407,nodeType:"ParameterList",parameters:[{constant:!1,id:406,name:"isExistent",nodeType:"VariableDeclaration",scope:431,src:"851:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:405,name:"bool",nodeType:"ElementaryTypeName",src:"851:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"850:17:3"},scope:652,src:"773:243:3",stateMutability:"view",superFunction:112,visibility:"external"},{body:{id:456,nodeType:"Block",src:"1121:74:3",statements:[{expression:{argumentTypes:null,components:[{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:442,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1135:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:444,indexExpression:{argumentTypes:null,id:443,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:433,src:"1140:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1135:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:445,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"purpose",nodeType:"MemberAccess",referencedDeclaration:98,src:"1135:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:446,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1155:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:448,indexExpression:{argumentTypes:null,id:447,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:433,src:"1160:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1155:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:449,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"1155:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:450,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1175:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:452,indexExpression:{argumentTypes:null,id:451,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:433,src:"1180:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1175:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:453,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1175:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}}],id:454,isConstant:!1,isInlineArray:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"TupleExpression",src:"1134:56:3",typeDescriptions:{typeIdentifier:"t_tuple$_t_uint256_$_t_uint256_$_t_bytes32_$",typeString:"tuple(uint256,uint256,bytes32)"}},functionReturnParameters:441,id:455,nodeType:"Return",src:"1127:63:3"}]},documentation:null,id:457,implemented:!0,kind:"function",modifiers:[],name:"getKey",nodeType:"FunctionDefinition",parameters:{id:434,nodeType:"ParameterList",parameters:[{constant:!1,id:433,name:"_key",nodeType:"VariableDeclaration",scope:457,src:"1037:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:432,name:"bytes32",nodeType:"ElementaryTypeName",src:"1037:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1036:14:3"},returnParameters:{id:441,nodeType:"ParameterList",parameters:[{constant:!1,id:436,name:"purpose",nodeType:"VariableDeclaration",scope:457,src:"1074:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:435,name:"uint256",nodeType:"ElementaryTypeName",src:"1074:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:438,name:"keyType",nodeType:"VariableDeclaration",scope:457,src:"1091:15:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:437,name:"uint256",nodeType:"ElementaryTypeName",src:"1091:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:440,name:"key",nodeType:"VariableDeclaration",scope:457,src:"1108:11:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:439,name:"bytes32",nodeType:"ElementaryTypeName",src:"1108:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"}],src:"1073:47:3"},scope:652,src:"1021:174:3",stateMutability:"view",superFunction:123,visibility:"external"},{body:{id:469,nodeType:"Block",src:"1291:41:3",statements:[{expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:465,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"1304:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:467,indexExpression:{argumentTypes:null,id:466,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:459,src:"1318:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1304:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},functionReturnParameters:464,id:468,nodeType:"Return",src:"1297:30:3"}]},documentation:null,id:470,implemented:!0,kind:"function",modifiers:[],name:"getKeysByPurpose",nodeType:"FunctionDefinition",parameters:{id:460,nodeType:"ParameterList",parameters:[{constant:!1,id:459,name:"_purpose",nodeType:"VariableDeclaration",scope:470,src:"1226:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:458,name:"uint256",nodeType:"ElementaryTypeName",src:"1226:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1225:18:3"},returnParameters:{id:464,nodeType:"ParameterList",parameters:[{constant:!1,id:463,name:"_keys",nodeType:"VariableDeclaration",scope:470,src:"1267:22:3",stateVariable:!1,storageLocation:"memory",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_memory_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:461,name:"bytes32",nodeType:"ElementaryTypeName",src:"1267:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:462,length:null,nodeType:"ArrayTypeName",src:"1267:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],src:"1266:24:3"},scope:652,src:"1200:132:3",stateMutability:"view",superFunction:131,visibility:"external"},{body:{id:532,nodeType:"Block",src:"1434:390:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:487,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:482,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1448:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:484,indexExpression:{argumentTypes:null,id:483,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1453:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1448:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:485,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1448:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,id:486,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1466:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1448:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4b657920616c7265616479206578697374732e",id:488,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1472:21:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'},value:"Key already exists."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_90b4086827e7cbdc13876749983c60e1ef0d8ccf7869a14692634bbf717443c0",typeString:'literal_string "Key already exists."'}],id:481,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"1440:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:489,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1440:54:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:490,nodeType:"ExpressionStatement",src:"1440:54:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:496,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:491,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"1504:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:492,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1504:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:494,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"1526:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}],id:493,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1518:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:495,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1518:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1504:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:513,nodeType:"IfStatement",src:"1500:158:3",trueBody:{id:512,nodeType:"Block",src:"1533:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:503,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"1595:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:504,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1595:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:501,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:741,src:"1578:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:502,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"1578:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:505,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1578:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:500,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:748,src:"1568:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:506,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1568:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:507,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"1609:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:498,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"1549:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}},id:499,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:431,src:"1549:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:508,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1549:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f7365206e6f7420686176652061206d616e61676572206b65792e",id:509,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1613:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'},value:"Sender dose not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_138646fe6b8b72f0a79788dda7d5a7f8bbedfe5d5bd30dc2cb103a4eec8107a1",typeString:'literal_string "Sender dose not have a manager key."'}],id:497,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"1541:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:510,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1541:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:511,nodeType:"ExpressionStatement",src:"1541:110:3"}]}},{expression:{argumentTypes:null,id:522,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:514,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1664:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:516,indexExpression:{argumentTypes:null,id:515,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1669:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"1664:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,arguments:[{argumentTypes:null,id:518,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1694:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:519,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:474,src:"1715:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:520,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:476,src:"1740:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:null,id:517,name:"Key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:103,src:"1677:3:3",typeDescriptions:{typeIdentifier:"t_type$_t_struct$_Key_$103_storage_ptr_$",typeString:"type(struct ERC734.Key storage pointer)"}},id:521,isConstant:!1,isLValue:!1,isPure:!1,kind:"structConstructorCall",lValueRequested:!1,names:["key","purpose","keyType"],nodeType:"FunctionCall",src:"1677:78:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_memory",typeString:"struct ERC734.Key memory"}},src:"1664:91:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:523,nodeType:"ExpressionStatement",src:"1664:91:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:525,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:472,src:"1776:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:526,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:474,src:"1782:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,id:527,name:"_keyType",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:476,src:"1792:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:524,name:"KeyAdded",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:56,src:"1767:8:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:528,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1767:34:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:529,nodeType:"EmitStatement",src:"1762:39:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:530,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"1815:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:480,id:531,nodeType:"Return",src:"1808:11:3"}]},documentation:null,id:533,implemented:!0,kind:"function",modifiers:[],name:"addKey",nodeType:"FunctionDefinition",parameters:{id:477,nodeType:"ParameterList",parameters:[{constant:!1,id:472,name:"_key",nodeType:"VariableDeclaration",scope:533,src:"1352:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:471,name:"bytes32",nodeType:"ElementaryTypeName",src:"1352:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:474,name:"_purpose",nodeType:"VariableDeclaration",scope:533,src:"1366:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:473,name:"uint256",nodeType:"ElementaryTypeName",src:"1366:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"},{constant:!1,id:476,name:"_keyType",nodeType:"VariableDeclaration",scope:533,src:"1384:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:475,name:"uint256",nodeType:"ElementaryTypeName",src:"1384:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1351:50:3"},returnParameters:{id:480,nodeType:"ParameterList",parameters:[{constant:!1,id:479,name:"success",nodeType:"VariableDeclaration",scope:533,src:"1420:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:478,name:"bool",nodeType:"ElementaryTypeName",src:"1420:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1419:14:3"},scope:652,src:"1336:488:3",stateMutability:"nonpayable",superFunction:142,visibility:"external"},{body:{id:650,nodeType:"Block",src:"1912:668:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:548,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:543,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"1926:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:545,indexExpression:{argumentTypes:null,id:544,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"1931:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"1926:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:546,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"key",nodeType:"MemberAccess",referencedDeclaration:102,src:"1926:14:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:547,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"1944:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"1926:22:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"4e6f2073756368206b65792e",id:549,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"1950:14:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'},value:"No such key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_ab5c6cfdbb26a96faf98c6cbcce210a8fc9b99a72a213191ceaca56705208abd",typeString:'literal_string "No such key."'}],id:542,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"1918:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:550,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1918:47:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:551,nodeType:"ExpressionStatement",src:"1918:47:3"},{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_address",typeString:"address"},id:557,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:552,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"1975:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:553,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"1975:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}},nodeType:"BinaryOperation",operator:"!=",rightExpression:{argumentTypes:null,arguments:[{argumentTypes:null,id:555,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"1997:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}}],expression:{argumentTypes:[{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}],id:554,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,nodeType:"ElementaryTypeNameExpression",src:"1989:7:3",typeDescriptions:{typeIdentifier:"t_type$_t_address_$",typeString:"type(address)"},typeName:"address"},id:556,isConstant:!1,isLValue:!1,isPure:!1,kind:"typeConversion",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"1989:13:3",typeDescriptions:{typeIdentifier:"t_address",typeString:"address"}},src:"1975:27:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:574,nodeType:"IfStatement",src:"1971:158:3",trueBody:{id:573,nodeType:"Block",src:"2004:125:3",statements:[{expression:{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,arguments:[{argumentTypes:null,expression:{argumentTypes:null,id:564,name:"msg",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:754,src:"2066:3:3",typeDescriptions:{typeIdentifier:"t_magic_message",typeString:"msg"}},id:565,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"sender",nodeType:"MemberAccess",referencedDeclaration:null,src:"2066:10:3",typeDescriptions:{typeIdentifier:"t_address_payable",typeString:"address payable"}}],expression:{argumentTypes:[{typeIdentifier:"t_address_payable",typeString:"address payable"}],expression:{argumentTypes:null,id:562,name:"abi",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:741,src:"2049:3:3",typeDescriptions:{typeIdentifier:"t_magic_abi",typeString:"abi"}},id:563,isConstant:!1,isLValue:!1,isPure:!0,lValueRequested:!1,memberName:"encodePacked",nodeType:"MemberAccess",referencedDeclaration:null,src:"2049:16:3",typeDescriptions:{typeIdentifier:"t_function_abiencodepacked_pure$__$returns$_t_bytes_memory_ptr_$",typeString:"function () pure returns (bytes memory)"}},id:566,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2049:28:3",typeDescriptions:{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes_memory_ptr",typeString:"bytes memory"}],id:561,name:"keccak256",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:748,src:"2039:9:3",typeDescriptions:{typeIdentifier:"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$",typeString:"function (bytes memory) pure returns (bytes32)"}},id:567,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2039:39:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,hexValue:"31",id:568,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2080:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"}],expression:{argumentTypes:null,id:559,name:"this",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:771,src:"2020:4:3",typeDescriptions:{typeIdentifier:"t_contract$_KeyManager_$652",typeString:"contract KeyManager"}},id:560,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,memberName:"keyHasPurpose",nodeType:"MemberAccess",referencedDeclaration:431,src:"2020:18:3",typeDescriptions:{typeIdentifier:"t_function_external_view$_t_bytes32_$_t_uint256_$returns$_t_bool_$",typeString:"function (bytes32,uint256) view external returns (bool)"}},id:569,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2020:62:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},{argumentTypes:null,hexValue:"53656e64657220646f6573206e6f7420686176652061206d616e61676572206b65792e",id:570,isConstant:!1,isLValue:!1,isPure:!0,kind:"string",lValueRequested:!1,nodeType:"Literal",src:"2084:37:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'},value:"Sender does not have a manager key."}],expression:{argumentTypes:[{typeIdentifier:"t_bool",typeString:"bool"},{typeIdentifier:"t_stringliteral_e71b1cebb9c90114440c9c65160c1c2b87f29e0d98657f958f320df21b60dab0",typeString:'literal_string "Sender does not have a manager key."'}],id:558,name:"require",nodeType:"Identifier",overloadedDeclarations:[757,758],referencedDeclaration:758,src:"2012:7:3",typeDescriptions:{typeIdentifier:"t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",typeString:"function (bool,string memory) pure"}},id:571,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2012:110:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:572,nodeType:"ExpressionStatement",src:"2012:110:3"}]}},{expression:{argumentTypes:null,id:578,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2135:17:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:575,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"2142:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:577,indexExpression:{argumentTypes:null,id:576,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2147:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2142:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:579,nodeType:"ExpressionStatement",src:"2135:17:3"},{assignments:[583],declarations:[{constant:!1,id:583,name:"keysCache",nodeType:"VariableDeclaration",scope:650,src:"2159:27:3",stateVariable:!1,storageLocation:"storage",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"},typeName:{baseType:{id:581,name:"bytes32",nodeType:"ElementaryTypeName",src:"2159:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:582,length:null,nodeType:"ArrayTypeName",src:"2159:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[]"}},value:null,visibility:"internal"}],id:587,initialValue:{argumentTypes:null,baseExpression:{argumentTypes:null,id:584,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"2189:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:586,indexExpression:{argumentTypes:null,id:585,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:537,src:"2203:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2189:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"VariableDeclarationStatement",src:"2159:53:3"},{body:{id:631,nodeType:"Block",src:"2262:197:3",statements:[{condition:{argumentTypes:null,commonType:{typeIdentifier:"t_bytes32",typeString:"bytes32"},id:603,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:599,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2274:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:601,indexExpression:{argumentTypes:null,id:600,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2284:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2274:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"BinaryOperation",operator:"==",rightExpression:{argumentTypes:null,id:602,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2290:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2274:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},falseBody:null,id:630,nodeType:"IfStatement",src:"2270:183:3",trueBody:{id:629,nodeType:"Block",src:"2296:157:3",statements:[{expression:{argumentTypes:null,id:613,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:604,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2306:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:606,indexExpression:{argumentTypes:null,id:605,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2316:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2306:12:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:607,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2321:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:612,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:611,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:608,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2331:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:609,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2331:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:610,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2350:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2331:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2321:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},src:"2306:46:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},id:614,nodeType:"ExpressionStatement",src:"2306:46:3"},{expression:{argumentTypes:null,id:621,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"delete",prefix:!0,src:"2362:38:3",subExpression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:615,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2369:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:620,indexExpression:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:619,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,expression:{argumentTypes:null,id:616,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2379:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:617,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2379:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"-",rightExpression:{argumentTypes:null,hexValue:"31",id:618,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2398:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_1_by_1",typeString:"int_const 1"},value:"1"},src:"2379:20:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2369:31:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:622,nodeType:"ExpressionStatement",src:"2362:38:3"},{expression:{argumentTypes:null,id:626,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"--",prefix:!1,src:"2410:19:3",subExpression:{argumentTypes:null,expression:{argumentTypes:null,id:623,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2410:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:625,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2410:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:627,nodeType:"ExpressionStatement",src:"2410:19:3"},{id:628,nodeType:"Break",src:"2439:5:3"}]}}]},condition:{argumentTypes:null,commonType:{typeIdentifier:"t_uint256",typeString:"uint256"},id:595,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftExpression:{argumentTypes:null,id:592,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2235:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},nodeType:"BinaryOperation",operator:"<",rightExpression:{argumentTypes:null,expression:{argumentTypes:null,id:593,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2239:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},id:594,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"length",nodeType:"MemberAccess",referencedDeclaration:null,src:"2239:16:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},src:"2235:20:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},id:632,initializationExpression:{assignments:[589],declarations:[{constant:!1,id:589,name:"i",nodeType:"VariableDeclaration",scope:632,src:"2223:6:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:588,name:"uint",nodeType:"ElementaryTypeName",src:"2223:4:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],id:591,initialValue:{argumentTypes:null,hexValue:"30",id:590,isConstant:!1,isLValue:!1,isPure:!0,kind:"number",lValueRequested:!1,nodeType:"Literal",src:"2232:1:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_rational_0_by_1",typeString:"int_const 0"},value:"0"},nodeType:"VariableDeclarationStatement",src:"2223:10:3"},loopExpression:{expression:{argumentTypes:null,id:597,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,nodeType:"UnaryOperation",operator:"++",prefix:!1,src:"2257:3:3",subExpression:{argumentTypes:null,id:596,name:"i",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:589,src:"2257:1:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},id:598,nodeType:"ExpressionStatement",src:"2257:3:3"},nodeType:"ForStatement",src:"2218:241:3"},{expression:{argumentTypes:null,id:637,isConstant:!1,isLValue:!1,isPure:!1,lValueRequested:!1,leftHandSide:{argumentTypes:null,baseExpression:{argumentTypes:null,id:633,name:"keysByPurpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:353,src:"2464:13:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_uint256_$_t_array$_t_bytes32_$dyn_storage_$",typeString:"mapping(uint256 => bytes32[] storage ref)"}},id:635,indexExpression:{argumentTypes:null,id:634,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:537,src:"2478:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!0,nodeType:"IndexAccess",src:"2464:23:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},nodeType:"Assignment",operator:"=",rightHandSide:{argumentTypes:null,id:636,name:"keysCache",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:583,src:"2490:9:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage_ptr",typeString:"bytes32[] storage pointer"}},src:"2464:35:3",typeDescriptions:{typeIdentifier:"t_array$_t_bytes32_$dyn_storage",typeString:"bytes32[] storage ref"}},id:638,nodeType:"ExpressionStatement",src:"2464:35:3"},{eventCall:{argumentTypes:null,arguments:[{argumentTypes:null,id:640,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2522:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},{argumentTypes:null,id:641,name:"_purpose",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:537,src:"2528:8:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},{argumentTypes:null,expression:{argumentTypes:null,baseExpression:{argumentTypes:null,id:642,name:"keys",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:348,src:"2538:4:3",typeDescriptions:{typeIdentifier:"t_mapping$_t_bytes32_$_t_struct$_Key_$103_storage_$",typeString:"mapping(bytes32 => struct ERC734.Key storage ref)"}},id:644,indexExpression:{argumentTypes:null,id:643,name:"_key",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:535,src:"2543:4:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,nodeType:"IndexAccess",src:"2538:10:3",typeDescriptions:{typeIdentifier:"t_struct$_Key_$103_storage",typeString:"struct ERC734.Key storage ref"}},id:645,isConstant:!1,isLValue:!0,isPure:!1,lValueRequested:!1,memberName:"keyType",nodeType:"MemberAccess",referencedDeclaration:100,src:"2538:18:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}}],expression:{argumentTypes:[{typeIdentifier:"t_bytes32",typeString:"bytes32"},{typeIdentifier:"t_uint256",typeString:"uint256"},{typeIdentifier:"t_uint256",typeString:"uint256"}],id:639,name:"KeyRemoved",nodeType:"Identifier",overloadedDeclarations:[],referencedDeclaration:64,src:"2511:10:3",typeDescriptions:{typeIdentifier:"t_function_event_nonpayable$_t_bytes32_$_t_uint256_$_t_uint256_$returns$__$",typeString:"function (bytes32,uint256,uint256)"}},id:646,isConstant:!1,isLValue:!1,isPure:!1,kind:"functionCall",lValueRequested:!1,names:[],nodeType:"FunctionCall",src:"2511:46:3",typeDescriptions:{typeIdentifier:"t_tuple$__$",typeString:"tuple()"}},id:647,nodeType:"EmitStatement",src:"2506:51:3"},{expression:{argumentTypes:null,hexValue:"74727565",id:648,isConstant:!1,isLValue:!1,isPure:!0,kind:"bool",lValueRequested:!1,nodeType:"Literal",src:"2571:4:3",subdenomination:null,typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},value:"true"},functionReturnParameters:541,id:649,nodeType:"Return",src:"2564:11:3"}]},documentation:null,id:651,implemented:!0,kind:"function",modifiers:[],name:"removeKey",nodeType:"FunctionDefinition",parameters:{id:538,nodeType:"ParameterList",parameters:[{constant:!1,id:535,name:"_key",nodeType:"VariableDeclaration",scope:651,src:"1848:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"},typeName:{id:534,name:"bytes32",nodeType:"ElementaryTypeName",src:"1848:7:3",typeDescriptions:{typeIdentifier:"t_bytes32",typeString:"bytes32"}},value:null,visibility:"internal"},{constant:!1,id:537,name:"_purpose",nodeType:"VariableDeclaration",scope:651,src:"1862:16:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"},typeName:{id:536,name:"uint256",nodeType:"ElementaryTypeName",src:"1862:7:3",typeDescriptions:{typeIdentifier:"t_uint256",typeString:"uint256"}},value:null,visibility:"internal"}],src:"1847:32:3"},returnParameters:{id:541,nodeType:"ParameterList",parameters:[{constant:!1,id:540,name:"success",nodeType:"VariableDeclaration",scope:651,src:"1898:12:3",stateVariable:!1,storageLocation:"default",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"},typeName:{id:539,name:"bool",nodeType:"ElementaryTypeName",src:"1898:4:3",typeDescriptions:{typeIdentifier:"t_bool",typeString:"bool"}},value:null,visibility:"internal"}],src:"1897:14:3"},scope:652,src:"1829:751:3",stateMutability:"nonpayable",superFunction:151,visibility:"external"}],scope:653,src:"80:2503:3"}],src:"0:2584:3"},compiler:{name:"solc",version:"0.5.0+commit.1d4f565a.Emscripten.clang"},networks:{},schemaVersion:"3.0.2",updatedAt:"2019-04-03T06:09:43.576Z",devdoc:{methods:{}},userdoc:{methods:{}}}},function(e,t,n){"use strict";n.r(t);const i=async function({web3:e,abi:t,bytecode:n,args:i=[],from:r,gas:s=3e6}){if(!e)throw new Error("There is no web3 provider.");if(null===t||null===n||null===r)throw new Error("abi, bytecode or from should not be null.");const a=new e.eth.Contract(t);return await a.deploy({data:n,arguments:i}).send({from:r,gas:s}).catch(console.log)},r=async function({web3:e,abi:t,address:n}){if(!e)throw new Error("There is no web3 provider.");if(null===t||null===n)throw new Error("abi, bytecode or from should not be null.");return new e.eth.Contract(t,n)},s=function(e){if(""===e)throw new Error("Missing DID.");const t=e.match(/^did:([a-zA-Z0-9_]+):([[a-zA-Z0-9_.-]+)(\/[^#]*)?(#.*)?$/);if(t){const e={did:t[0],method:t[1],identifier:t[2]};return t[3]&&(e.path=t[3]),t[4]&&(e.fragment=t[4]),e}throw new Error(`Invalid DID: ${e}`)},a=function(e){return 1===e?"EcdsaVerificationKey2019":2===e?"RsaVerificationKey2019":void 0};var o=n(0),p=n(1);const y=o.abi,d=o.bytecode,f=p.abi;p.bytecode;var l=class{constructor(e,t=null,{from:n,gas:i}={}){this.web3=e,this.did=t}async init({from:e,gas:t}={}){if(this.did){const{identifier:e}=s(this.did);this.identity=await r({web3:this.web3,abi:y,address:e})}else this.identity=await i({web3:this.web3,abi:y,bytecode:d,args:[e],from:e,gas:t}),this.did=`did:erc725:${this.identity.options.address.slice(2)}`;const n=await this.identity.methods.owner().call();this.keyManager=await r({web3:this.web3,abi:f,address:n})}async getDid(){return this.did}async resolve(){try{const e=await this.keyManager.methods.getKeysByPurpose(1).call(),t=(await Promise.all(e.map(async e=>await this.keyManager.methods.getKey(e).call()))).map((e,t)=>({id:`${did}#owner-${t}`,type:a(e[1]),controller:did,publicKeyHex:e[2].slice(2)})),n={"@context":"https://w3id.org/did/v1",id:did,publicKey:t};return JSON.stringify(n)}catch(e){throw new Error(`Resolve failed. Message: ${e}`)}}addKey(){}removeKey(){}async revoke({from:e,gas:t}){try{await this.identity.methods.kill().send({from:e,gas:t})}catch(e){throw new Error(`Revoke failed. Message: ${e}`)}}};t.default=class{constructor({web3:e}){if(!e)throw new Error("There is no web3 provider.");this.web3=e}async register({from:e,gas:t}){const n=new l(this.web3,void 0,{from:e,gas:t});return await n.init({from:e,gas:t}),n}async connect(e){const t=new l(this.web3,e);return await t.init(),t}}}])});